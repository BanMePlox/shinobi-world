[{"name":"Wall Height - Adjust Wall Height","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/wall-height.svg","scope":"global","command":"const content = `<form class = \"inline\">\n    <div class=\"form-group\">\n        <label for=\"wallHeightTop\">Top</label>\n        <input type=\"text\" name=\"wallHeightTop\" placeholder=\"0\">\n    </div>\n    <div class=\"form-group\">\n        <label for=\"wallHeightBottom\">Bottom</label>\n        <input type=\"text\" name=\"wallHeightBottom\" placeholder=\"0\">\n    </div>\n</form>`\n\nlet d = new Dialog({\n    title: 'Adjusting Wall Height',\n    content: content,\n    buttons: {\n        all: {\n            icon: '<i class=\"fas fa-times\"></i>',\n            label: 'Adjust all walls',\n            callback: (html) => {\n                let top = html.find('[name=\"wallHeightTop\"]').val()\n                let bot = html.find('[name=\"wallHeightBottom\"]').val()\n                let walls = canvas.walls.placeables;\n                if (walls.length) { adjustWalls(top, bot, walls); }\n                else { ui.notifications.info(`There are no walls on the scene.`); }\n            }\n        },\n        selected: {\n            icon: '<i class=\"fas fa-times\"></i>',\n            label: 'Adjust selected',\n            callback: (html) => {\n                let top = html.find('[name=\"wallHeightTop\"]').val()\n                let bot = html.find('[name=\"wallHeightBottom\"]').val()\n                let walls = canvas.walls.controlled;\n                if (walls.length) { adjustWalls(top, bot, walls); }\n                else { ui.notifications.info(`You have not selected any walls.`); }\n            }\n        },\n        cancel: {\n            icon: '<i class=\"fas fa-times\"></i>',\n            label: 'Cancel'\n        }\n    }\n}).render(true);\n\nfunction adjustWalls(top, bottom, walls) {\n if (!(isNaN(top) && isNaN(bottom))) {\n    walls.forEach(w=> \n        w.data.flags.wallHeight = {\n          wallHeightTop: +top,\n          wallHeightBottom: +bottom})\n } else {\n     throw new Error(\"Invalid values\")\n }\n}","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.088WaFJ4pEulKcYs"},"cf":{"id":"temp_1ediqmp4aol"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.macros.YoP4wpb9Q6RBPMmR","hash":"e82af05e8da36188af04570466189304a29b52db","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145483,"modifiedTime":1673190145483,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"088WaFJ4pEulKcYs","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Token Attacher - Toggle Quick Edit Mode","type":"script","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.0u2s188zEcxSrCuc"},"cf":{"id":"temp_1ediqmp4aol"},"scene-packer":{"hash":"e4374afea449753bca2d3272e76f1a4ee46925cd","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"scope":"global","command":"tokenAttacher.toggleQuickEditMode()","author":"hLNgmHneMmCR1wAX","img":"modules/token-attacher/templates/images/quill-ink.svg","ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145483,"modifiedTime":1673190145483,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"0u2s188zEcxSrCuc","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TokenMagic - Drop Shadow Tall","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium/maps/icons/drop-shadow-tall_100dpi.webp","scope":"global","command":"let params =\n[{\n    filterType: \"shadow\",\n    filterId: \"myShadow\",\n    rotation: 35,\n    blur: 2,\n    quality: 5,\n    distance: 50,\n    alpha: 0.7,\n    padding: 10,\n    shadowOnly: false,\n    color: 0x000000,\n    zOrder: 6000,\n    animated:\n    {\n        blur:     \n        { \n           active: false, \n           loopDuration: 1, \n           animType: \"syncCosOscillation\", \n           val1: 2, \n           val2: 4\n        },\n        rotation:\n        {\n           active: false,\n           loopDuration: 100,\n           animType: \"syncSinOscillation\",\n           val1: 33,\n           val2: 37\n        }\n     }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.1bl6zCYiHKVjfG0M"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.fxtome.sQlAxr5s4W14triO","hash":"bbbf0b045019f72fa2a2e88bc731e6563ddfe04e","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145484,"modifiedTime":1673190145484,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"1bl6zCYiHKVjfG0M","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"(TA)Climb Aboard!","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium/icons/ship-wheel.svg","scope":"global","command":"(async () => {\n\tlet targets = Array.from(game.user.targets);\n\tif(targets.length > 0){\n\t\tif(targets.length > 1) return ui.notification.error(\"Can't mount more then one token!\");\n\t\tlet mount = targets[0];\n/*\n\t\tlet newCoords = {x:token.x, y:token.y};\n\t\tif(mount.x+mount.w-token.w < token.x) newCoords.x = mount.x+mount.w-token.w;\n\t\telse if(mount.x > token.x) newCoords.x = mount.x;\n\n\t\tif(mount.y+mount.h-token.h < token.y) newCoords.y = mount.y+mount.h-token.h;\n\t\telse if(mount.y > token.y) newCoords.y = mount.y;\n\t\tawait token.document.update({x: newCoords.x, y: newCoords.y});\n*/\n\t\tui.chat.processMessage(`I board this ${targets[0].name}`);\n\t\tawait tokenAttacher.attachElementToToken(token, targets[0], true);\n\t\tawait tokenAttacher.setElementsLockStatus(token, false, true);\n\t\tawait tokenAttacher.setElementsMoveConstrainedStatus(token, true, true, {type: tokenAttacher.CONSTRAINED_TYPE.UNCONSTRAINED});\n\t}\n})();","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.2g80ZUDPtT7mXOiL"},"scene-packer":{"hash":"6b10b1e735994da4e2cc36ee12fb77205509a008","sourceId":"Compendium.baileywiki-maps-premium.macros.IJkNYmK6PgjZF6w5","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"advanced-macros":{"runAsGM":false},"cf":{"id":"temp_9u10uast6we"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145484,"modifiedTime":1673190145484,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"2g80ZUDPtT7mXOiL","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Token Magic - Drop Shadow","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium/maps/icons/drop-shadow-small_100dpi.webp","scope":"global","command":"let params =\n[{\n    filterType: \"shadow\",\n    filterId: \"myShadow\",\n    rotation: 35,\n    blur: 2,\n    quality: 5,\n    distance: 20,\n    alpha: 0.7,\n    padding: 10,\n    shadowOnly: false,\n    color: 0x000000,\n    zOrder: 6000,\n    animated:\n    {\n        blur:     \n        { \n           active: false, \n           loopDuration: 1, \n           animType: \"syncCosOscillation\", \n           val1: 2, \n           val2: 4\n        },\n        rotation:\n        {\n           active: false,\n           loopDuration: 100,\n           animType: \"syncSinOscillation\",\n           val1: 33,\n           val2: 37\n        }\n     }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.3039ZYP3TqG4O4I1"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.fxtome.WLnHWiRAdcJry9NQ","hash":"7a39554a148b86b6517d90a72045a122e2598feb","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145484,"modifiedTime":1673190145484,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"3039ZYP3TqG4O4I1","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"open-metal-gates","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/environment/settlement/city-gate.webp","scope":"global","command":"if (event === MLT.ENTER) {\n   canvas.tiles.placeables.filter(x => x.data.img.includes(args[0]))[0].update({hidden: false})\n// Play the sound of a large door for all players\nAudioHelper.play({src: \"modules/baileywiki-maps-premium-towns/sounds/gate01-open.ogg\", volume: 0.4, autoplay: true, loop: false}, true);;\n}\n\n\n\nif (event === MLT.LEAVE) {\n   canvas.tiles.placeables.filter(x => x.data.img.includes(args[0]))[0].update({hidden: true})\n// Play the sound of a large door for all players\nAudioHelper.play({src: \"modules/baileywiki-nuts-and-bolts/assets/sounds/gate02-closed.ogg\", volume: 0.4, autoplay: true, loop: false}, true);;\n}","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.3KQHgvR3frGCQrGk"},"cf":{"id":"temp_9u10uast6we"},"scene-packer":{"hash":"9cce08631c16f64bd299911d34000ddf8b1fda30","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145484,"modifiedTime":1673190145484,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"3KQHgvR3frGCQrGk","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"open-drawbridge","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/castle.svg","scope":"global","command":"if (event === MLT.ENTER) {\n   canvas.tiles.placeables.filter(x => x.data.img.includes(args[0]))[0].update({hidden: false})\n// Play the sound of a large door for all players\nAudioHelper.play({src: \"modules/baileywiki-nuts-and-bolts/assets/sounds/gate01-open.ogg\", volume: 0.4, autoplay: true, loop: false}, true);;\n}\n\n\n\nif (event === MLT.LEAVE) {\n   canvas.tiles.placeables.filter(x => x.data.img.includes(args[0]))[0].update({hidden: true})\n// Play the sound of a large door for all players\nAudioHelper.play({src: \"modules/baileywiki-nuts-and-bolts/assets/sounds/gate02-closed.ogg\", volume: 0.4, autoplay: true, loop: false}, true);;\n}","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.4w65qFp5ScXBrJaC"},"cf":{"id":"temp_9u10uast6we"},"scene-packer":{"hash":"1b9cd212e2f7296b939a0c7acc794d4380a4a356","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145484,"modifiedTime":1673190145484,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"4w65qFp5ScXBrJaC","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Token Attacher - Delete All Control Tokens v2","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/remove-tokens.svg","scope":"global","command":"//Updated 12/23/21 to work with Foundry v9\n//WARNING! This can't be undone.\n//This macro will disengage all attachments in a scene from control tokens and then delete the tokens themselves, leaving the\n//attachments intact.\n//This is useful for deleting all control tokens after you are done building. \n\n(async () => {\n    const moduleName = 'token-attacher';\n    let deletes = {};\n    let updates = {};\n    const pushUpdate = (key, update, updateObj) => {\n        if(!updateObj.hasOwnProperty(key)) updateObj[key] = [];\n        const dupIndex = updateObj[key].findIndex(item => {\n            if(update._id) return update._id === item._id; \n            else return update=== item;});\n        if(dupIndex === -1) updateObj[key].push(update);\n    };\n    for (const type of [\"AmbientLight\", \"AmbientSound\", \"Drawing\", \"MeasuredTemplate\", \"Note\", \"Tile\", \"Token\", \"Wall\"]) {\n        const layer = canvas.getLayerByEmbeddedName(type);\n        for (let i = 0; i < layer.placeables.length; i++) {\n            const element = layer.placeables[i];\n            if(getProperty(element, `data.flags.${moduleName}`)){\n                pushUpdate(type, {_id: element.data._id, [`flags.-=${moduleName}`]:null}, updates);\n            }\n            if(getProperty(element, `data.flags.${moduleName}.attached`)){\n                pushUpdate(type, element.data._id, deletes);\n            }\n        }\n    }//Fire updates\n    for (const key in updates){\n        if (updates.hasOwnProperty(key)) {\n            await canvas.scene.updateEmbeddedDocuments(key, updates[key], {[moduleName]:{}});\n        }\n    }\n    //Fire deletes\n    for (const key in deletes){\n        if (deletes.hasOwnProperty(key)) {\n            await canvas.scene.deleteEmbeddedDocuments(key, deletes[key], {[moduleName]:{}});\n        }\n    }\n})();","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.5RUjVUaYR0mH8ase"},"cf":{"id":"temp_1ediqmp4aol","color":"#000000"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.macros.M3f8BPTvbo5GUVUC","hash":"fae9bd407b9f126a1cfd200bddd06338d181fb94","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145484,"modifiedTime":1673190145484,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"5RUjVUaYR0mH8ase","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"leaves-rustling","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/sound.svg","scope":"global","command":"if (event === MLT.MOVE) {\n// Play the sound of a leaves rustling for all players\nAudioHelper.play({src: \"modules/baileywiki-nuts-and-bolts/assets/sounds/rustling-grass04.ogg\", volume: 0.08, autoplay: true, loop: false}, true);; \n}","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.5jMIBUEWmezimKhF"},"cf":{"id":"temp_9u10uast6we"},"scene-packer":{"hash":"602f9a61c1bccabe505008c4c9029a44e6108f21","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145484,"modifiedTime":1673190145484,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"5jMIBUEWmezimKhF","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"arm-disarm-trap-slide","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/trap.svg","scope":"global","command":"//arm-disarm-trap-slide\n//Execute this macro to choose whether to activate or deactivate all drawings on the current scene with the Text Label of trap-slide. Active traps have a slight red tint, deactivated traps have no tint. You can use this for activating and deactivating other traps by changing the text that the macro looks for.\n\n//specify tints for armed vs unarmed\nlet armedTint = \"#ff0000\"; //red\nlet unarmedTint = \"#ffffff\"; //white, doesn't matter if unarmedAlpha = 0.0\n\n//specify opacity for armed vs unarmed, must be between 0.0 and 1.0\nlet armedAlpha = 0.1;\nlet unarmedAlpha = 0.0; //if you want an unarmed tint, increase this value.\n\nasync function trapArm(newStatus,tint,alpha) {\n    //find the drawings for the trap by looking for their Text Label, to use this for other traps, change the \"trap-slide\" below to the desired label, leaving the label text in quotes.\n    let traps = canvas.drawings.placeables.filter(\n         (d) => d.data.text == \"trap-slide\"\n    );\n\n    //update the traps, first changing their MLT enabled disabled, then their fill colors. Set fill type to 1 in case it has not already been specified.\n\nlet updates = [];    \n\nfor(let d of traps)\n        {\n        await d.document.setFlag(\"multilevel-tokens\", \"disabled\", newStatus)\n        updates.push({_id: d.id, fillColor: tint, fillAlpha: alpha, fillType: 1})\n        };\nawait canvas.scene.updateEmbeddedDocuments(\"Drawing\",updates);\n\n    ui.notifications.info(\"trap-slide drawings disabled = \" + newStatus);\n}\n\n//dialogue for controlling function\nlet dialog = new Dialog({\n    title: \"Set Slide Trap Status\",\n    content: \"Change the active status and tint of all trap-slide drawings on the current scene. Armed traps will be slightly tinted red, unarmed traps will have no tint.\",\n    buttons: {\n      button1: {\n        label: \"Arm the Traps\",\n        callback: () => {\n          trapArm(false,armedTint,armedAlpha);\n        },\n      },\n      button2: {\n        label: \"Disable the traps\",\n        callback: () => {\n          trapArm(true,unarmedTint,unarmedAlpha);\n        },\n      },\n      close: {\n        label: \"Cancel\",\n        callback: async () => {},\n      }\n    },\n    default: close,\n    close: () => {},\n  });\n  \n  dialog._render(true);","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.5p9Ua0dIUpLKw3al"},"scene-packer":{"sourceId":"Macro.Dmdufh9eoeEZUoHD","hash":"c7ae3b7cc958f4c65bbc9ee5cc0c2f83a5a87bfd","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_9u10uast6we","color":"#000000"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145485,"modifiedTime":1673190145485,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"5p9Ua0dIUpLKw3al","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Configurator - Walls","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/configurator-wall.svg","scope":"global","command":"//Use this special macro to change multiple attributes on multiple assets at the same time. Just remove the comment // symbols to activate a particular attribute.\n\n//This will only change assets that are selected in the current scene.\n//To see other attributes, select a wall, then open the console (f12) and type this into it: canvas.walls.controlled[0]\n\n//SYNTAX TIPS. ever value must have a comma after it. Be careful not to delete it. Decimals should be written like 0.x with the zero in front of the decimal.\n\ncanvas.walls.updateAll({\n//\"dir\":\"0,\n//\"door\":0,\n//\"ds\":0,\n//\"light\":0,\n//\"move\":0,\n//\"sight\":0,\n//\"sound\":0,\n\n//If you use modules, these are some common flags:\n\n  \"flags\": {\n    \n\"wallHeight\": {\n//\"wallHeightTop\": 9,\n//\"wallHeightBottom\": 0,\n    }\n\n  },\n  },(walls)=> walls._controlled)","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.6aLPJO5Xk0aZg8Oz"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.macros.m1EbggIJbkWZxpLQ","hash":"f332b66eaea344292d6d22974211446a4cb74af8","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_1ediqmp4aol","color":"#000000"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145485,"modifiedTime":1673190145485,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"6aLPJO5Xk0aZg8Oz","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Golden Theme Weather","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/fxmaster/assets/weatherEffects/icons/leaves.png","scope":"global","command":"Hooks.call('fxmaster.updateWeather', [{\"type\":\"embers\",\"options\":{\"scale\":1,\"speed\":1,\"lifetime\":1,\"density\":0.2,\"tint\":{\"apply\":true,\"value\":\"#e5de1f\"}}},{\"type\":\"clouds\",\"options\":{\"scale\":1.5,\"direction\":55,\"speed\":0.6,\"lifetime\":1,\"density\":0.005,\"tint\":{\"apply\":true,\"value\":\"#bfc0b9\"}}}]);","flags":{"scene-packer":{"hash":"441f44ad02daa126ecbdcfe9dcdd58d8fe2760bd","sourceId":"Macro.HQxwAt1tEGK4auI8","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.7BmscdfulxCjA1mv"},"cf":{"id":"temp_yrdzj3q9cib"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145485,"modifiedTime":1673190145485,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"7BmscdfulxCjA1mv","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Parallaxia Off","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/parallaxia-off_100dpi.webp","scope":"global","command":"// Background\nlet bupdates = canvas.background.placeables.filter(t => t.data.flags.parallaxia).map(t => {  \n  return { _id: t.id, 'flags.parallaxia.isTarget': false } \n}); \ncanvas.background.updateMany(bupdates)\n// Foreground\nlet fupdates = canvas.foreground.placeables.filter(t => t.data.flags.parallaxia).map(t => {  \n  return { _id: t.id, 'flags.parallaxia.isTarget': false } \n}); \ncanvas.foreground.updateMany(fupdates)","flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.7RjRkfcsbVyOOczC"},"cf":{"id":"temp_yrdzj3q9cib","color":"#000000"},"scene-packer":{"sourceId":"Macro.7f7dIfRA2xdYeI6J","hash":"8fa4587e56edce7f7ce167806efd569c22777926","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145485,"modifiedTime":1673190145485,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"7RjRkfcsbVyOOczC","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Cloudy Weather","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/fxmaster/assets/weatherEffects/icons/fog.png","scope":"global","command":"Hooks.call('fxmaster.updateWeather', [{\"type\":\"clouds\",\"options\":{\"scale\":2.1,\"direction\":0,\"speed\":0.6,\"lifetime\":0.4,\"density\":0.005,\"tint\":{\"apply\":false,\"value\":\"#ffffff\"}}}]);","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.7w5S9EqUDr2IECev"},"scene-packer":{"sourceId":"Compendium.baileywiki-city-district-01.macros.4TqXWid6UkI2S8lN","hash":"5cf5dfb47a5fa2161cc96e711fa80041912284c7","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_yrdzj3q9cib","path":"Baileywiki Modular City#/CF_SEP/Utilities","color":"#000000"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145483,"modifiedTime":1673190145483,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"7w5S9EqUDr2IECev","folder":"oGGQQbwQaAlWNOsV","sort":0},{"name":"TokenMagic - Sewer Water Large Tiles","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium-towns/maps/icons/water-green.svg","scope":"global","command":"let params =\n[{\n    filterType: \"flood\",\n    filterId: \"myFlood\",\n    time: 0,\n    color: 0x355427,\n    billowy: 0.1,\n    tintIntensity: 0.72,\n    glint: 0.31,\n    scale: 400,\n    padding: 10,\n    animated :\n    {\n      time : \n      { \n        active: true, \n        speed: 0.0006, \n        animType: \"move\"\n      }\n    }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.8rsLMfXevpLmugF5"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.fxtome.Lq6rbtOUJV6IZBRR","hash":"9c60dda6882d9f0fa1bf6e6b227e17d019132157","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145485,"modifiedTime":1673190145485,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"8rsLMfXevpLmugF5","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Environment - Hide Animated Water #64eb0a","type":"script","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.9Hyzs5NtkCHBolxW"},"scene-packer":{"sourceId":"Macro.szxqaS8acu6OzkCS","hash":"4a17f5a073769f19f5d30118b8dcaf404fa4d81b","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_9u10uast6we"}},"scope":"global","command":"const drawings = canvas.drawings.placeables.filter(d => d.data.fillColor== \"#64eb0a\")\ndrawings.forEach(d => d.update({ hidden: true, fillAlpha:\"0\", textAlpha:\"1\" }));","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/remove-waves.svg","ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145485,"modifiedTime":1673190145485,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"9Hyzs5NtkCHBolxW","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TMFX-MATT - Glow Purple","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/glow-purple-target.svg","scope":"global","command":"/**Takes the arguments supplied to a MATT \"Run Macro\" action \n * and searches for objects that have that argument as a tag. \n * Then applies a TMFX Glow filter to all objects with that tag.\n * Massive thank you to Dr. O_o in Monk's Discord for the help!\n*/\n\nlet params =\n[{\n    filterType: \"glow\",\n    filterId: \"superSpookyGlow\",\n    outerStrength: 4,\n    innerStrength: 0,\n    color: 0x6F38C5,\n    quality: 0.5,\n    padding: 10,\n    animated:\n    {\n        color: \n        {\n           active: true, \n           loopDuration: 3000, \n           animType: \"colorOscillation\", \n           val1:0x6F38C5, \n           val2:0x87A2FB\n        }\n    }\n}];\n\nlet tag = arguments[0].args[0];\n\nTagger.getByTag(tag).forEach( (el)=>{  \n  TokenMagic.addUpdateFilters(el.object, params, true); // True means replace\n});","flags":{"scene-packer":{"hash":"1d91d3702f53a460665055844111617dbbba7ad1","sourceId":"Macro.UBTSyvXMEQy7gNjJ","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.AIkW7sHeAL72zx4T"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145485,"modifiedTime":1673190145485,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"AIkW7sHeAL72zx4T","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TokenMagic - Sewer Water Small Tiles","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium-towns/maps/icons/water-green.svg","scope":"global","command":"let params =\n[{\n    filterType: \"flood\",\n    filterId: \"myFlood\",\n    time: 0,\n    color: 0x355427,\n    billowy: 0.15,\n    tintIntensity: 0.72,\n    glint: 0.36,\n    scale: 70,\n    padding: 10,\n    animated :\n    {\n      time : \n      { \n        active: true, \n        speed: 0.0006, \n        animType: \"move\"\n      }\n    }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.BI6LobgQzMcUzN3Z"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.fxtome.FoZMbhmBNYBxaUiu","hash":"c98e67f82d1bfdf22d119a5e1159e5f973d92960","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145486,"modifiedTime":1673190145486,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"BI6LobgQzMcUzN3Z","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TokenMagic - Create Flames","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/fire.svg","scope":"global","command":"// create a drawing with fill color #ec8b09 and opacity of 50% with line width of zero. Select it, and click this macro to set it on fire. Adjust the amount of flames by adjusting the opacity of the drawing fill between 30% and 60%. Based on 'Devouring Fire' filter from TMFX\n\nlet params =\n[{\n    filterType: \"fire\",\n    filterId: \"myFire\",\n    intensity: 3,\n    color: 0xFFFFFF,\n    amplitude: 2,\n    time: 0,\n    blend: 10,\n    fireBlend : 1,\n    alphaDiscard: true,\n    zOrder: 50,\n    animated :\n    {\n      time : \n      { \n        active: true, \n        speed: -0.0024, \n        animType: \"move\" \n      }\n    }\n},{\n    filterType: \"glow\",\n    filterId: \"glowripples\",\n    outerStrength: 4,\n    innerStrength: 2,\n    color: 0xAA6500,\n    quality: 0.5,\n    padding: 10,\n    zOrder: 100,\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.BTklH7EyYsVxed9u"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.fxtome.YyJ39d8eoB7Ny5ZL","hash":"f097ba7fa249d018fc395bba7d4256c04c3454ff","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145486,"modifiedTime":1673190145486,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"BTklH7EyYsVxed9u","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"FXMaster - Crypt Mist and Particles","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium-towns/maps/icons/steam-blue.svg","scope":"global","command":"Hooks.call('fxmaster.updateWeather', [{\"type\":\"embers\",\"options\":{\"scale\":1,\"speed\":0.4,\"lifetime\":1,\"density\":0.1,\"tint\":{\"apply\":true,\"value\":\"#275763\"}}},{\"type\":\"fog\",\"options\":{\"scale\":1,\"speed\":1,\"lifetime\":1,\"density\":0.04,\"tint\":{\"apply\":true,\"value\":\"#387780\"}}}]);","flags":{"scene-packer":{"hash":"0c6671d7fa38e03289243c9a7d2954f219d9bb32","sourceId":"Macro.T9BNf864pskPQlX7","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.Brl19wG8Q6wcymYL"},"cf":{"id":"temp_yrdzj3q9cib"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145486,"modifiedTime":1673190145486,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"Brl19wG8Q6wcymYL","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"walking-water","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/sound.svg","scope":"global","command":"//Contributed by j0eNinj4 and elezraita on the discord. An upgraded version of the walking-water macro that plays entry, exit, and movement sounds in water areas.\n\nif (event === MLT.MOVE) {\n// Play the sound of wading through water for all players\nfunction mm_audio(){\n    let soundHome = \"modules/baileywiki-maps-premium-towns/sounds/\";\n    let soundFile = [\n        `water-wade-01.ogg`,\n        `water-wade-02.ogg`,\n        `water-wade-03.ogg`,\n        `water-wade-04.ogg`,\n        `water-wade-05.ogg`,\n        `water-wade-06.ogg`,\n        `water-wade-07.ogg`\n    ];\n    let random = Math.floor(Math.random() * (soundFile.length));\n    AudioHelper.play({src: soundHome + soundFile[random], volume: 0.25\n, autoplay: true, loop: false}, true);\n}\nmm_audio();\n}\nelse if (event === MLT.ENTER) {\n// Play the sound of water entering for all players\nAudioHelper.play({src: \"modules/baileywiki-maps-premium-towns/sounds/EnterWater.ogg\", volume: 0.25, autoplay: true, loop: false}, true);; \n}\nelse if (event === MLT.LEAVE) {\n// Play the sound of water leaving for all players\nAudioHelper.play({src: \"modules/baileywiki-maps-premium-towns/sounds/WaterStepOut.ogg\", volume: 0.25, autoplay: true, loop: false}, true);; \n}","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.DU0hw4BRH9NzLIyr"},"cf":{"id":"temp_9u10uast6we","color":"#000000"},"scene-packer":{"sourceId":"Macro.NLqjPLWlQ6XDWQJO","hash":"fdb808292f628edf3558ef27faf66839fdaad4dd","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145486,"modifiedTime":1673190145486,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"DU0hw4BRH9NzLIyr","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TMFX-MATT - Glow Blue","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/glow-blue-target.svg","scope":"global","command":"/**Takes the arguments supplied to a MATT \"Run Macro\" action \n * and searches for objects that have that argument as a tag. \n * Then applies a TMFX Glow filter to all objects with that tag.\n * Massive thank you to Dr. O_o in Monk's Discord for the help!\n*/\n\nlet params =\n[{\n    filterType: \"glow\",\n    filterId: \"superSpookyGlow\",\n    outerStrength: 4,\n    innerStrength: 0,\n    color: 0x5099DD,\n    quality: 0.5,\n    padding: 10,\n    animated:\n    {\n        color: \n        {\n           active: true, \n           loopDuration: 3000, \n           animType: \"colorOscillation\", \n           val1:0x5099DD, \n           val2:0x90EEFF\n        }\n    }\n}];\n\nlet tag = arguments[0].args[0];\n\nTagger.getByTag(tag).forEach( (el)=>{  \n  TokenMagic.addUpdateFilters(el.object, params, true); // True means replace\n});","flags":{"scene-packer":{"hash":"9f0a299035d0c987903173ac2f2a3efcead3f280","sourceId":"Macro.jRf1Za8O0EbdPydk","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.DxFnqPK38NMOmshm"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145486,"modifiedTime":1673190145486,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"DxFnqPK38NMOmshm","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Environment - Fire - Set Ablaze! #ec8b09","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/campfire-big-fire.webp","scope":"global","command":"(async ()=>{\nconst drawings = canvas.drawings.placeables.filter(d => d.data.fillColor== \"#ec8b09\")\ndrawings.forEach(d => d.update({ hidden: false, fillAlpha:\".5\" }));\n\nHooks.call('updateWeather', [{\"type\":\"embers\",\"options\":{\"scale\":2.6,\"speed\":50,\"density\":300,\"tint\":{\"apply\":true,\"value\":\"#ff9f1a\"}}},{\"type\":\"fog\",\"options\":{\"scale\":4.1,\"speed\":50,\"density\":15,\"tint\":{\"apply\":true,\"value\":\"#e8a617\"}}}]);\n\n})();","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.FdPkQV5fh1FMYXMg"},"scene-packer":{"sourceId":"Macro.2kGKlk8T1X6k5zpw","hash":"cdc38f86e130f0bbc2f7e75d7d790d472c211c75","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_9u10uast6we"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145486,"modifiedTime":1673190145486,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"FdPkQV5fh1FMYXMg","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"FXMaster Underwater","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/windmill.svg","scope":"global","command":"//Creates an underwater motif with bubbles, wavy effect, and hue change. Remove effect with FXMaster delete tool\n\nHooks.call('fxmaster.updateWeather', [{\"type\":\"bubbles\",\"options\":{\"scale\":0.6,\"speed\":0.5,\"lifetime\":0.2,\"density\":0.01,\"tint\":{\"apply\":true,\"value\":\"#35879c\"}}}]);\nFXMASTER.filters.setFilters([{\"type\":\"color\",\"options\":{\"color\":{\"apply\":true,\"value\":\"#56aebd\"},\"saturation\":0.5,\"contrast\":1.4,\"brightness\":0.7,\"gamma\":1.5,\"red\":0.33725490196078434,\"green\":0.6823529411764706,\"blue\":0.7411764705882353}},{\"type\":\"underwater\",\"options\":{\"speed\":4.2,\"scale\":14}}]);","flags":{"scene-packer":{"hash":"14d786858619e01c02b3e5773b9bc62fa8a583b9","sourceId":"Macro.hZTyRRRijtUMy8ln","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"advanced-macros":{"runAsGM":false},"exportSource":{"world":"baileywiki","system":"dnd5e","coreVersion":"9.251","systemVersion":"1.5.7"},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.FezKddUXOdant4nw"},"cf":{"id":"temp_yrdzj3q9cib"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145486,"modifiedTime":1673190145486,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"FezKddUXOdant4nw","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Eldritch Theme Weather","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/fxmaster/assets/weatherEffects/icons/bubbles.png","scope":"global","command":"Hooks.call('fxmaster.updateWeather', [{\"type\":\"embers\",\"options\":{\"scale\":1,\"speed\":1,\"lifetime\":1,\"density\":0.2,\"tint\":{\"apply\":true,\"value\":\"#b780d0\"}}},{\"type\":\"fog\",\"options\":{\"scale\":1,\"speed\":1,\"lifetime\":1,\"density\":0.02,\"tint\":{\"apply\":true,\"value\":\"#b2a2b9\"}}},{\"type\":\"bubbles\",\"options\":{\"scale\":0.4,\"speed\":1.2,\"lifetime\":1,\"density\":0.15,\"tint\":{\"apply\":true,\"value\":\"#5f3e7a\"}}}]);","flags":{"scene-packer":{"hash":"4ec0ced14e0ca5339877d2fff8765f0e32ffa432","sourceId":"Macro.f1lIFCEfvNd0y7W2","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.HgaGkJgYd2foQgK9"},"cf":{"id":"temp_yrdzj3q9cib"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145486,"modifiedTime":1673190145486,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"HgaGkJgYd2foQgK9","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TMFX-MATT - Glow Custom","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/glow-custom-target.svg","scope":"global","command":"/**Takes the arguments supplied to a MATT \"Run Macro\" action. \n * ===\n * First argument is for the tag. All placeables (tokens, drawings, tiles, etc.)\n * with that tag will have a custom TMFX filter applied.\n * ==== \n * Arguments 1 and 2 supply hexcodes for custom colors on the TMFX Glow\n * ===\n * Massive thank you's to:\n * - Dr. O_o in Monk's Discord for help with tags\n * - Freeze and honeybadger in Macro Polo for help with formatting color variables\n*/\nlet tag = arguments[0].args[0]; // get tag from first MATT argument\n\nlet color1 = colorStringToHex(arguments[0].args[1]); // get first color hex from MATT argument\nlet color2 = colorStringToHex(arguments[0].args[2]); // get second color hex from MATT argument\n\n//DEBUG\nconsole.log(tag);\nconsole.log(color1);\nconsole.log(color2);\n\nlet params =\n[{\n    filterType: \"glow\",\n    filterId: \"superSpookyGlow\",\n    outerStrength: 4,\n    innerStrength: 0,\n    color: color1,\n    quality: 0.5,\n    padding: 10,\n    animated:\n    {\n        color: \n        {\n           active: true, \n           loopDuration: 3000, \n           animType: \"colorOscillation\", \n           val1:color1, \n           val2:color2\n        }\n    }\n}];\n\nTagger.getByTag(tag).forEach( (el)=>{  \n  TokenMagic.addUpdateFilters(el.object, params, true); // True means replace\n});","flags":{"scene-packer":{"hash":"6becfa09c9947ddc911a478cf1faf07e94e87bc5","sourceId":"Macro.jYviDWiYQksAxn8p","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.I1cV3PcglwUmUDJg"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145487,"modifiedTime":1673190145487,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"I1cV3PcglwUmUDJg","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Configurator - Drawings","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/configurator-drawing.svg","scope":"global","command":"//Use this special macro to change multiple attributes on multiple assets at the same time. Just remove the comment // symbols to activate a particular attribute.\n\n//This will only change assets that are selected in the current scene.\n//To see other attributes, select a drawing, then open the console (f12) and type this into it: canvas.drawings.controlled[0]\n\n//SYNTAX TIPS. ever value must have a comma after it. Be careful not to delete it. Decimals should be written like 0.x with the zero in front of the decimal.\n\ncanvas.drawings.updateAll({\n//\"fillAlpha\": 0.6,\n//\"fillColor\": \"#ec8b09\",\n//\"fillType\": 1,\n//\"'strokeAlpha\": 0,\n//\"strokeColor\": \"#ffffff\",\n//\"strokeWidth\": 0,\n//\"textAlpha\": 1,\n//\"textColor\": \"#FFFFFF\",\n//\"type\": \"p\",\n\n},(drawings)=> drawings._controlled)","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.IahuDjFPHHGYXcJy"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.macros.1nzKLw1boivHMYs6","hash":"973096b791ea64b641954321a97fb2d23ebb1798","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_1ediqmp4aol","color":"#000000"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145487,"modifiedTime":1673190145487,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"IahuDjFPHHGYXcJy","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TMFX-MATT - Glow White","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/glow-white-target.svg","scope":"global","command":"/**Takes the arguments supplied to a MATT \"Run Macro\" action \n * and searches for objects that have that argument as a tag. \n * Then applies a TMFX Glow filter to all objects with that tag.\n * Massive thank you to Dr. O_o in Monk's Discord for the help!\n*/\n\nlet params =\n[{\n    filterType: \"glow\",\n    filterId: \"superSpookyGlow\",\n    outerStrength: 4,\n    innerStrength: 0,\n    color: 0xf2f2f2,\n    quality: 0.5,\n    padding: 10,\n    animated:\n    {\n        color: \n        {\n           active: true, \n           loopDuration: 3000, \n           animType: \"colorOscillation\", \n           val1:0xf2f2f2, \n           val2:0xefef6b\n        }\n    }\n}];\n\nlet tag = arguments[0].args[0];\n\nTagger.getByTag(tag).forEach( (el)=>{  \n  TokenMagic.addUpdateFilters(el.object, params, true); // True means replace\n});","flags":{"scene-packer":{"hash":"35f0b6b08cddd84eb9703d8bc41128a286ce4fda","sourceId":"Macro.3Ka8JikgwFpzJ491","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.IjP4rlBj0x23m0UL"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145487,"modifiedTime":1673190145487,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"IjP4rlBj0x23m0UL","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"trap-slide","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/falling.svg","scope":"global","command":"async function trigger_trap() {\n    if (event === MLT.ENTER) {\n        //Find tile\n        let traparea = canvas.drawings.get(region.id)\n        let regionX = traparea.x\n        let regionY = traparea.y\n        \n        let tile = canvas.background.placeables.find(t =>\n        t.data.img.includes(args[0]) &&\n        t.center.x < (regionX + traparea.width) &&\n        t.center.x > (regionX) &&\n        t.center.y < (regionY + traparea.height) &&\n        t.center.y > (regionY));\n\n        //Hide tile\n        tile.update({hidden:false});\n    }\n}\ntrigger_trap();\n\n        // Play the sound of a trap for all players\n        AudioHelper.play({src: \"modules/baileywiki-nuts-and-bolts/assets/sounds/Door-Stone_Long_02.ogg\", volume: 0.3, autoplay: true, loop: false}, true);;","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.JLF67udORgj08qzE"},"cf":{"id":"temp_9u10uast6we","color":"#000000"},"scene-packer":{"sourceId":"Macro.tAUtLb95oPu311ny","hash":"36af83153dc4457a6e2ca3eb22215f8ce7f90b52","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145487,"modifiedTime":1673190145487,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"JLF67udORgj08qzE","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Snowy Weather","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/fxmaster/assets/weatherEffects/icons/snow.png","scope":"global","command":"Hooks.call('fxmaster.updateWeather', [{\"type\":\"clouds\",\"options\":{\"scale\":1,\"direction\":0,\"speed\":1,\"lifetime\":1,\"density\":0.03,\"tint\":{\"apply\":false,\"value\":\"#ffffff\"}}},{\"type\":\"snowstorm\",\"options\":{\"scale\":1,\"direction\":90,\"speed\":0.6,\"lifetime\":1,\"density\":0.4,\"tint\":{\"apply\":false,\"value\":\"#ffffff\"}}}]);","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.KIKb4OsyoEFEyxvK"},"scene-packer":{"sourceId":"Compendium.baileywiki-city-district-01.macros.ZZiGmK9Waqh8NTMX","hash":"d72035a788ee6aea9d8f6ffe6df297a57dbe51d7","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_yrdzj3q9cib","path":"Baileywiki Modular City#/CF_SEP/Utilities","color":"#000000"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145483,"modifiedTime":1673190145483,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"KIKb4OsyoEFEyxvK","folder":"oGGQQbwQaAlWNOsV","sort":0},{"name":"Remove All FXMaster Data from a Scene","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/dice-target.svg","scope":"global","command":"//this can be helpful to delete old, corrupt FXMaster data\n\nscene.unsetFlag(\"fxmaster\", \"effects\");","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.KQ4ayLmUM33RbkB4"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.macros.2O9ks6bTuHGBoEK4","hash":"5a856de068bf1b8552d2e756510b55890ff01f2d","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_yrdzj3q9cib","color":"#000000"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145487,"modifiedTime":1673190145487,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"KQ4ayLmUM33RbkB4","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Gusty Weather","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/fxmaster/assets/weatherEffects/icons/fog.png","scope":"global","command":"Hooks.call('fxmaster.updateWeather', [{\"type\":\"clouds\",\"options\":{\"scale\":2.4,\"direction\":0,\"speed\":1.1,\"lifetime\":0.6,\"density\":0.007,\"tint\":{\"apply\":false,\"value\":\"#ffffff\"}}}]);","flags":{"scene-packer":{"hash":"096d940c4a916c994a6efabe43a71f6fd280da0e","sourceId":"Macro.bFsOaLiEJRZJTvsw","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.KRcb2MM8nwjvk52X"},"cf":{"id":"temp_yrdzj3q9cib"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145487,"modifiedTime":1673190145487,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"KRcb2MM8nwjvk52X","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Change Selected Tile Color","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/cycle-color.svg","scope":"global","command":"/*\n * Switch between tile tints within the selected tiles.\n */\n(async () => {\n  const pathPrefixes = [\n    '#7876e5',\n    '#765e41',\n    '#b32929',\n    '#ffffff',\n  ];\n  const tiles = [...game.canvas.foreground.controlled, ...game.canvas.background.controlled];\n  if (!tiles.length) {\n    ui.notifications.error('No tiles selected.');\n    return;\n  }\n  const tileUpdates = [];\n  for (const tile of tiles) {\n    for (const pathPrefix of pathPrefixes) {\n      if (!tile.data.tint?.startsWith(pathPrefix)) {\n        continue;\n      }\n      const index = pathPrefixes.indexOf(pathPrefix);\n      if (index === -1) {\n        continue;\n      }\n      // Switch to the next image path prefix\n      let nextIndex = index + 1;\n      if (nextIndex >= pathPrefixes.length) {\n        nextIndex = 0;\n      }\n      const nextPrefix = pathPrefixes[nextIndex];\n      console.log(\n        `${tile.id} ${tile.data.tint} => ${tile.data.tint.replace(\n          pathPrefix,\n          nextPrefix,\n        )}`,\n      );\n      tileUpdates.push({\n        _id: tile.id,\n        tint: tile.data.tint.replace(pathPrefix, nextPrefix),\n      });\n    }\n  }\n  if (tileUpdates.length) {\n    await game.canvas.scene.updateEmbeddedDocuments('Tile', tileUpdates);\n  }\n})();","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.LhPRps42eo2iKGlo"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.macros.4uSMZlkBit6vQT03","hash":"9365603b2c5b7537a2fbb6fcb9ea81865f05388e","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_yrdzj3q9cib"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145487,"modifiedTime":1673190145487,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"LhPRps42eo2iKGlo","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Change Scene Light Color","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/configurator-light.svg","scope":"global","command":"//Select all lights in a scene to change them to a new color. Some sample colors are included below. To use, just paste the color into the \"color\":#xxxxxx\" field below...\n\ncanvas.lighting.updateAll({\n\"config\":{\n\"color\":\"#11ee48\",\n}\n},(light)=> light._controlled)\n\n\n//blue 1114ee\n//green 11ee48\n//fire ee1111\n//purple a111ee","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.LxeIl4jWeboDhIww"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.macros.O5erD0QKYgoo15Bc","hash":"8458356a1b7b946ba4eb2c1246c970b0438f01b3","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_1ediqmp4aol","color":"#000000"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145488,"modifiedTime":1673190145488,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"LxeIl4jWeboDhIww","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TMFX-MATT - Glow Red","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/glow-red-target.svg","scope":"global","command":"/**Takes the arguments supplied to a MATT \"Run Macro\" action \n * and searches for objects that have that argument as a tag. \n * Then applies a TMFX Glow filter to all objects with that tag.\n * Massive thank you to Dr. O_o in Monk's Discord for the help!\n*/\n\nlet params =\n[{\n    filterType: \"glow\",\n    filterId: \"superSpookyGlow\",\n    outerStrength: 4,\n    innerStrength: 0,\n    color: 0xff233e,\n    quality: 0.5,\n    padding: 10,\n    animated:\n    {\n        color: \n        {\n           active: true, \n           loopDuration: 3000, \n           animType: \"colorOscillation\", \n           val1:0xff233e, \n           val2:0x801421\n        }\n    }\n}];\n\nlet tag = arguments[0].args[0];\n\nTagger.getByTag(tag).forEach( (el)=>{  \n  TokenMagic.addUpdateFilters(el.object, params, true); // True means replace\n});","flags":{"scene-packer":{"hash":"18b40ce115c4eb159f05472d8dafbeb80a3d61aa","sourceId":"Macro.8T78QyaG6jHI5eyq","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.MD0PfcHdMKPozW6U"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145488,"modifiedTime":1673190145488,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"MD0PfcHdMKPozW6U","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Token Magic - Drop Shadow Flying","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium/maps/icons/drop-shadow-flying_100dpi.webp","scope":"global","command":"let params =\n[{\n    filterType: \"shadow\",\n    filterId: \"myShadow\",\n    rotation: 35,\n    blur: 40,\n    quality: 10,\n    distance: 100,\n    alpha: 0.5,\n    padding: 10,\n    shadowOnly: false,\n    color: 0x000000,\n    zOrder: 6000,\n    animated:\n    {\n        blur:     \n        { \n           active: false, \n           loopDuration: 1, \n           animType: \"syncCosOscillation\", \n           val1: 2, \n           val2: 4\n        },\n        rotation:\n        {\n           active: false,\n           loopDuration: 100,\n           animType: \"syncSinOscillation\",\n           val1: 33,\n           val2: 37\n        }\n     }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.NR4wtChwyy6J36w4"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.fxtome.7eVhH7FOO6baVpej","hash":"2b8a9797e7544f3de9ee88d9403a375d85d92024","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145488,"modifiedTime":1673190145488,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"NR4wtChwyy6J36w4","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TokenMagic - Delete filters on Selected","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium/maps/icons/delete-filters_100dpi.webp","scope":"global","command":"// Delete all filters on the selected tokens/tiles\nTokenMagic.deleteFiltersOnSelected();","flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.OHgj9i93OpJn1H1G"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.fxtome.ylrBOJymMoC5rXHr","hash":"264a110bc2054fc6bdd0bac1ba02c38e2f797dc1","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145488,"modifiedTime":1673190145488,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"OHgj9i93OpJn1H1G","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"trap-collapse-impact","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/falling.svg","scope":"global","command":"async function trigger_trap() {\n    if (event === MLT.ENTER) {\n        //Find tile\n        let traparea = canvas.drawings.get(region.id)\n        let regionX = traparea.x\n        let regionY = traparea.y\n        \n        let tile = canvas.background.placeables.find(t =>\n        t.data.img.includes(args[0]) &&\n        t.center.x < (regionX + traparea.width) &&\n        t.center.x > (regionX) &&\n        t.center.y < (regionY + traparea.height) &&\n        t.center.y > (regionY));\n\n        //Hide tile\n        tile.update({hidden:false});\n    }\n}\ntrigger_trap();\n\n        // Play the sound of a trap for all players\nasync function play_sound(){\n       await AudioHelper.play({src: \"modules/baileywiki-nuts-and-bolts/assets/sounds/sounds/trap-collapse.ogg\", volume: 0.4, autoplay: true, loop: false}, true);;\n        AudioHelper.play({src: \"modules/baileywiki-nuts-and-bolts/assets/sounds/impact-big.ogg\", volume: 0.4, autoplay: true, loop: false}, true);;\n}\n\nplay_sound();","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.PBlMUWzR7WNwQo2S"},"cf":{"id":"temp_9u10uast6we","color":"#000000"},"scene-packer":{"sourceId":"Macro.6NJMJjjHWoBdLvDS","hash":"ff6c86f64c3db8d5830b6f6c334f4c58907b8305","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145488,"modifiedTime":1673190145488,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"PBlMUWzR7WNwQo2S","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Environment - Fire - Set Ablaze! #ec8b09","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium-towns/maps/icons/campfire-big-fire.webp","scope":"global","command":"//This macro will set a scene on fire, exposing hidden drawings with flame (you set these up ahead of time with the Create Flames/Fire macro using Token Magic FX), and it will also create embers and smoke using FXMaster. Use the 'Douse' macro to turn it back to normal.\n\n(async ()=>{\nconst drawings = canvas.drawings.placeables.filter(d => d.data.fillColor== \"#ec8b09\")\ndrawings.forEach(d => canvas.drawings.updateAll({ hidden: false, fillAlpha:.6 }));\n\nHooks.call('fxmaster.updateWeather', [{\"type\":\"embers\",\"options\":{\"scale\":1,\"speed\":1,\"density\":0.7,\"tint\":{\"apply\":true,\"value\":\"#f77300\"}}},{\"type\":\"fog\",\"options\":{\"scale\":1,\"speed\":1,\"density\":0.08,\"tint\":{\"apply\":true,\"value\":\"#d27232\"}}}]);\n\n})();","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.PHjiEgKbY3Nkaocr"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.fxtome.A6bPIfZuGyjyNGp6","hash":"23ee3ac349208be63d5c89119d6eb68ae7524fc3","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145488,"modifiedTime":1673190145488,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"PHjiEgKbY3Nkaocr","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"WH - Set-elevation-enter","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/mountain.svg","scope":"global","command":"let applyChanges = false;\n\nif(args && args.length>0){\n    let elevation = parseInt(args[0]);\n    token.update({\n        \"elevation\": elevation\n    });\n}\nelse\n{\n    new Dialog({\n  title: `Token Elevation Changer`,\n  content: `\n    <form>\n      <div class=\"form-group\">\n        <label>Elevation Value:</label>\n        <input id=\"token-elevation\" name=\"token-elevation\" type=\"number\" step=\"1\" value=\"0\"/>\n      </div>\n    </form>\n    `,\n  buttons: {\n    yes: {\n      icon: \"<i class='fas fa-check'></i>\",\n      label: `Apply Changes`,\n      callback: () => applyChanges = true\n    },\n    no: {\n      icon: \"<i class='fas fa-times'></i>\",\n      label: `Cancel Changes`\n    },\n  },\n  default: \"yes\",\n  close: html => {\n    if (applyChanges) {\n      for ( let token of canvas.tokens.controlled ) {\n       let elevation = html.find('[name=\"token-elevation\"]')[0].value || \"0\";\n       token.update({\n           \"elevation\": parseInt(elevation)\n       });\n       //token.data.elevation=parseInt(elevation);\n\n      }\n    }\n  }\n}).render(true);\n}","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.QRBBwSkXaovZih10"},"cf":{"id":"temp_9u10uast6we"},"scene-packer":{"hash":"36782f96a1f563e5f5d01c3593b1ea3e4bd26795","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145488,"modifiedTime":1673190145488,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"QRBBwSkXaovZih10","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"trap-metal-slam","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/falling.svg","scope":"global","command":"async function trigger_trap() {\n    if (event === MLT.ENTER) {\n        //Find tile\n        let traparea = canvas.drawings.get(region.id)\n        let regionX = traparea.x\n        let regionY = traparea.y\n        \n        let tile = canvas.background.placeables.find(t =>\n        t.data.img.includes(args[0]) &&\n        t.center.x < (regionX + traparea.width) &&\n        t.center.x > (regionX) &&\n        t.center.y < (regionY + traparea.height) &&\n        t.center.y > (regionY));\n\n        //Hide tile\n        tile.update({hidden:false});\n    }\n}\ntrigger_trap();\n\n        // Play the sound of a trap for all players\n        AudioHelper.play({src: \"modules/baileywiki-nuts-and-bolts/assets/sounds/Heavy_Metal_Impact_Factory_Door_Vibrating_02_03.ogg\", volume: 0.3, autoplay: true, loop: false}, true);;","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.RD4Ik84FTFjDJOqF"},"cf":{"id":"temp_9u10uast6we","color":"#000000"},"scene-packer":{"sourceId":"Macro.5C1zhlNu6mn5FLmz","hash":"1e8ee8345fe8673a06552f9502607c3a7b38f927","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145488,"modifiedTime":1673190145488,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"RD4Ik84FTFjDJOqF","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Configurator - Lights","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/configurator-light.svg","scope":"global","command":"//Use this special macro to change multiple attributes on multiple assets at the same time. Just remove the comment // symbols to activate a particular attribute.\n\n//This will only change assets that are selected in the current scene.\n//To see other attributes, select a light, then open the console (f12) and type this into it: canvas.lighting.controlled[0]\n\n//SYNTAX TIPS. ever value must have a comma after it. Be careful not to delete it. Decimals should be written like 0.x with the zero in front of the decimal.\n\ncanvas.lighting.updateAll({\n\n//\"hidden\": false,\n//\"vision\": false,\n//\"walls\": true,\n\n\"config\":{\n//\"color\":\"#ee1111\",\n//\"alpha\":0.7,\n//\"contrast\":0.6,\n//\"bright\": 10,\n//\"dim\":24,\n//\"gradual\":true,\n//\"luminosity\":0.9,\n//\"saturation\":-0.1,\n//\"shadows\":0.3,\n  \"animation\": {\n//\"type\": \"torch\",\n//\"speed\": 3,\n//\"intensity\": 3,\n//\"reverse\": false,\n    }\n},\n\n//If you use modules, these are some common flags:\n\n  \"flags\": {\n\n\"levels\": {\n//\"rangeTop\": 9,\n//\"rangeBottom\": 0,\n    }\n\n},\n},(light)=> light._controlled)","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.SZxo5UTpQdJ20dhZ"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.macros.q27QbScMvr2ftajm","hash":"5875e87e308cb7be6a40c72799e48410de8285a4","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_1ediqmp4aol","color":"#000000"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145489,"modifiedTime":1673190145489,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"SZxo5UTpQdJ20dhZ","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TMFX-MATT - Glow Green","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/glow-green-target.svg","scope":"global","command":"/**Takes the arguments supplied to a MATT \"Run Macro\" action \n * and searches for objects that have that argument as a tag. \n * Then applies a TMFX Glow filter to all objects with that tag.\n * Massive thank you to Dr. O_o in Monk's Discord for the help!\n*/\n\nlet params =\n[{\n    filterType: \"glow\",\n    filterId: \"superSpookyGlow\",\n    outerStrength: 4,\n    innerStrength: 0,\n    color: 0x239664,\n    quality: 0.5,\n    padding: 10,\n    animated:\n    {\n        color: \n        {\n           active: true, \n           loopDuration: 3000, \n           animType: \"colorOscillation\", \n           val1:0x239664, \n           val2:0x5bff64\n        }\n    }\n}];\n\nlet tag = arguments[0].args[0];\n\nTagger.getByTag(tag).forEach( (el)=>{  \n  TokenMagic.addUpdateFilters(el.object, params, true); // True means replace\n});","flags":{"scene-packer":{"hash":"66edf10615f15b6d5333f867b2e5d8943daaf51d","sourceId":"Macro.cM6JSpSMMqFYFx8w","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.SwN1hojT2jM0ohZa"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145489,"modifiedTime":1673190145489,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"SwN1hojT2jM0ohZa","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"open-wood-gates","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/environment/settlement/city-entrance.webp","scope":"global","command":"if (event === MLT.ENTER) {\n   canvas.tiles.placeables.filter(x => x.data.img.includes(args[0]))[0].update({hidden: false})\n// Play the sound of a large door for all players\nAudioHelper.play({src: \"modules/baileywiki-nuts-and-bolts/assets/sounds/gate01-open.ogg\", volume: 0.4, autoplay: true, loop: false}, true);;\n}\n\n\n\nif (event === MLT.LEAVE) {\n   canvas.tiles.placeables.filter(x => x.data.img.includes(args[0]))[0].update({hidden: true})\n// Play the sound of a large door for all players\nAudioHelper.play({src: \"modules/baileywiki-nuts-and-bolts/assets/sounds/gate02-closed.ogg\", volume: 0.4, autoplay: true, loop: false}, true);;\n}","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.Uaf9yHCp1Kzgt5sB"},"cf":{"id":"temp_9u10uast6we"},"scene-packer":{"hash":"194eaeb94ae1c96d710449f4d98ee34b66ee4789","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145489,"modifiedTime":1673190145489,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"Uaf9yHCp1Kzgt5sB","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TA - Create actor off","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/dice-target.svg","scope":"global","command":"//When dragging actors from a compendium only create actor in world when holding Ctrl\n(()=>{    \n\tlet protoclass = canvas.tokens;\n\n\tif(protoclass._onDropActorData){\n\t\tlet original = protoclass._onDropActorData.toString();\n\t\toriginal = original.replace(/async _onDropActorData/g, \"async function _onDropActorData\");\n\t\toriginal = original.replace(/actor = await Actor.implementation.create\\(actorData\\);/g, `\n\t\tlet TA_temp = false;\n\t\tif(!event.ctrlKey && actorData.token.flags[\"token-attacher\"]?.prototypeAttached) TA_temp = true;\n\t\tactor = await Actor.implementation.create(actorData, {temporary:TA_temp});`);\n\t\tprotoclass._onDropActorData = new Function(`return (${original})`)();\n\t}\n})()","flags":{"scene-packer":{"hash":"dd66f7c29088cf037ffc2eddd755d796fa2dd5ef","sourceId":"Compendium.baileywiki-maps-premium-towns.macros.o61YZ4fzCOYDNA6s","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.VNHLZ7MPz0K4gNZa"},"cf":{"id":"temp_yrdzj3q9cib"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145492,"modifiedTime":1673190145492,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"VNHLZ7MPz0K4gNZa","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Levels Preset - Frigates","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium/maps/thumbnails/galleon-placeable-with-sails-foam_100dpi.webp","scope":"global","command":"//With Levels UI turned OFF, this macro will set simplified levels for any frigate prefab.\n\ncanvas.scene.setFlag(\"levels\",\"sceneLevels\",[\n    [30,39,\"Sails\"],\n    [0,9,\"Main Deck\"],\n    [-10,-1,\"Gun Deck\"],\n    [-20,-11,\"Cargo and Quarters\"],\n]).then(_levels.UI.loadLevels())","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.WjLs5uNYbnNBoY9d"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium.macros.5j0uLzHhJjKcfb1h","hash":"ebb9bf55e80fa90bdda3acc22b590cefb973827d","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_n2kvwxy4e5g"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145493,"modifiedTime":1673190145493,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"WjLs5uNYbnNBoY9d","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Environment - Fire - Douse! #ec8b09","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium-towns/maps/icons/steam-blue.svg","scope":"global","command":"//This macro will counteract the 'Set Ablaze' macro to bring everything back to normal\n\n(async ()=>{\nconst drawings = canvas.drawings.placeables.filter(d => d.data.fillColor== \"#ec8b09\")\ndrawings.forEach(d => canvas.drawings.updateAll({ hidden: true, fillAlpha:.01 }));\n\nHooks.call('fxmaster.updateWeather', [{\"type\":\"clouds\",\"options\":{\"scale\":1.3,\"direction\":0,\"speed\":0.5,\"tint\":{\"apply\":false,\"value\":\"#ffffff\"}}}]);\n\n})();","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.WlOWlPhtXYsahH0C"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.fxtome.MCLSI99LPUIbfa7T","hash":"a7807fc7691877c620cc53fe7d778c5f92c337c4","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145493,"modifiedTime":1673190145493,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"WlOWlPhtXYsahH0C","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"(TA)Stop Follow!","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/wall-direction.svg","scope":"global","command":"(async () => {\n\tlet targets = Array.from(game.user.targets);\n\tif(targets.length > 0){\n\t\tif(targets.length > 1) return ui.notification.error(\"Can't unfollow more then one token!\");\n\t\tawait tokenAttacher.detachElementsFromToken([token], targets[0], true);\n\t\tui.chat.processMessage(`I walk my own path again.`);\n\t}\n})();","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.ZapuHNW9CeDVzZvg"},"scene-packer":{"hash":"74696c9b0cd53a554a1a93ac628f367a6bf9e8b7","sourceId":"Macro.pw4Wg4gkQx4LYTQb","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"advanced-macros":{"runAsGM":false},"cf":{"id":"temp_9u10uast6we"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145493,"modifiedTime":1673190145493,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"ZapuHNW9CeDVzZvg","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Moulinette shadow","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium-towns/maps/icons/drop-shadow-tall_100dpi.webp","scope":"global","command":"//\n// Adds a nice drop shadow around objects\n// It requires Token Magic FX module\n// \n// Instructions: \n// * import this macro\n// * rename it to something simple (ex: Shadow)\n// * in the Tiles screen, enter that macro name. Moulinette will then execute this macro after creating the tile\n//\n\nlet params = [{\n  filterType: \"shadow\",\n  filterId: \"myShadow\",\n  rotation: 35,\n  blur: 2,\n  quality: 5,\n  distance: 10,\n  alpha: 0.7,\n  padding: 10,\n  shadowOnly: false,\n  color: 0x000000,\n  zOrder: 6000,\n  animated:\n  {\n      blur:     \n      { \n        active: false, \n        loopDuration: 1, \n        animType: \"syncCosOscillation\", \n        val1: 2, \n        val2: 4\n      },\n      rotation:\n      {\n        active: false,\n        loopDuration: 100,\n        animType: \"syncSinOscillation\",\n        val1: 33,\n        val2: 37\n      }\n  }\n}];\n\n\n// sanity check\nif(Array.isArray(game.moulinette.param) && game.moulinette.param.length > 0) {\n  const asset = game.moulinette.param[0]\n  if(asset instanceof Tile) {    \n    TokenMagic.addUpdateFilters(asset, params);\n  }\n}","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.ZpMpGiHcslfivmKc"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.fxtome.MnyLo0774uq6FFf1","hash":"a12026067e803a10877657892e1ba70da7bf88b1","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145493,"modifiedTime":1673190145493,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"ZpMpGiHcslfivmKc","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"trap-grass-impact","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/falling.svg","scope":"global","command":"async function trigger_trap() {\n    if (event === MLT.ENTER) {\n        //Find tile\n        let traparea = canvas.drawings.get(region.id)\n        let regionX = traparea.x\n        let regionY = traparea.y\n        \n        let tile = canvas.background.placeables.find(t =>\n        t.data.img.includes(args[0]) &&\n        t.center.x < (regionX + traparea.width) &&\n        t.center.x > (regionX) &&\n        t.center.y < (regionY + traparea.height) &&\n        t.center.y > (regionY));\n\n        //Hide tile\n        tile.update({hidden:false});\n    }\n}\ntrigger_trap();\n\n        // Play the sound of a trap for all players\nasync function play_sound(){\n        await AudioHelper.play({src: \"modules/baileywiki-nuts-and-bolts/assets/sounds/trap-grass.mp3\", volume: 0.4, autoplay: true, loop: false}, true);;\n        AudioHelper.play({src: \"modules/baileywiki-nuts-and-bolts/assets/sounds/impact-big.ogg\", volume: 0.4, autoplay: true, loop: false}, true);;\n    }\n\nplay_sound();","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.awN1EhCjQmWeUt03"},"cf":{"id":"temp_9u10uast6we"},"scene-packer":{"sourceId":"Macro.reUoLgOchysWwdyY","hash":"e02979efc218c18af3404d46020136a7a703f90d","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145495,"modifiedTime":1673190145495,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"awN1EhCjQmWeUt03","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TokenMagic - Magic Circle (over)","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium-towns/maps/townsquare/misc2/seating-objects/throne-magic-circle.png","scope":"global","command":"let params =\n[{\n    filterType: \"sprite\",\n    filterId: \"myPentagram\",\n    imagePath: \"modules/baileywiki-maps-premium-towns/maps/townsquare/misc2/seating-objects/throne-magic-circle.png\",\n    gridPadding: 10,\n    scaleX: 3,\n    scaleY: 3,\n    colorize: true,\n    color: 0xFF0000,\n    inverse: true,\n    top: true,\n    animated:\n        {\n          rotation: \n          { \n            active: true,\n            clockWise: false, \n            loopDuration: 10000, \n            animType: \"syncRotation\"\n      },\n          translationX:\n            {\n                active: true,\n                animType: \"cosOscillation\",\n                val1: 0.0,\n                val2: -0.0,\n                loopDuration: 4000,\n            },\n            translationY:\n            {\n                active: true,\n                animType: \"sinOscillation\",\n                val1: 0.0,\n                val2: -0.0,\n                loopDuration: 4000,\n            },\n            color:\n            {\n                active: true,\n                animType: \"colorOscillation\",\n                val1: 0xf40000,\n                val2: 0xffffff,\n                loopDuration: 4000,\n\n            }\n        }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.bI50vY354vgx7Zxy"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.fxtome.GDewZ43ePP7dmYjT","hash":"013c18646f015b5c89fa4123a6400f903d91ae2c","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145495,"modifiedTime":1673190145495,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"bI50vY354vgx7Zxy","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Toggle Scene Navigation by Folder","type":"script","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.bo9xtwDP8loeSBBF"},"cf":{"id":"temp_yrdzj3q9cib"},"scene-packer":{"hash":"58451d59c64754dbcfd09fa2f156bfc21c00b929","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"scope":"global","command":"//Click this macro to bring up a list of your scene folders. Select the folder you want, and this macro will toggle scene navigation to 'on' or 'off' for your players. This particularly helpful for The Town where you may, at some point, want your players to navigate freely to certain locations. Big thanks to Restinya in the Discord for putting this together.\n\nlet folderArray = game.folders.filter(f => {\n    return f.type == \"Scene\";\n});\nlet folderNames = folderArray.map(f => f.name);\nconsole.log(folderNames);\nlet opts = '';\nfolderNames.forEach(i => { opts += `<option value='${i}'>${i}</option>` }); \nlet el = `<label for=\"folderSelect>Select Scene Folder</label><select name=\"folderSelect\">${opts}</select>`\n\nasync function toggleNavState(folder) {\n    console.log(\"we got to the callback!\");\n    let folderScenes = game.scenes.filter(scene => {\n        return scene.data.folder == game.folders.find(f => \n        { return f.name==folder}).id;\n    });\n\n    folderScenes.forEach(scene => {\n     scene.update({navigation: (!scene.data.navigation)})\n    }); //set navigation: true if want to toggle all\n}\n\nlet d = new Dialog({\n    title: 'Toggle Navigatable State',\n    content: `\n    <form class=\"flexcol\">\n        <div class=\"form-group\">\n        <label for=\"folderSelect>Select Scene Folder</label>\n        ${el}\n        </div>\n    </form>\n    `,\n    buttons: {\n        yes: {\n            icon: '<i class=\"fas fa-check\"></i>',\n            label: 'Toggle Navigate',\n            callback: (html) => {\n                console.log(\"we clicked yes!\");\n               toggleNavState(html.find('[name=\"folderSelect\"]').val());\n            }\n        },\n        no: {\n            icon: '<i class=\"fas fa-times\"></i>',\n            label: 'Cancel',\n            callback: () => {\n                console.log(\"we pressed cancel!\");\n            }\n        },\n    },\n    default: 'no',\n    close: () => {\n        console.log('Operation Cancelled.');\n    }\n}).render(true)","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/direction-signs.svg","ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145495,"modifiedTime":1673190145495,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"bo9xtwDP8loeSBBF","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TokenMagic - Ghostly Shape","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium/maps/icons/ghostly-image_100dpi.webp","scope":"global","command":"let params =\n[{\n    filterType: \"distortion\",\n    filterId: \"myDistortion\",\n    maskPath: \"/modules/tokenmagic/fx/assets/distortion-1.png\",\n    maskSpriteScaleX: 10,\n    maskSpriteScaleY: 10,\n    animated:\n    {\n        maskSpriteX: { active: true, speed: 0.05, animType: \"move\" },\n        maskSpriteY: { active: true, speed: 0.07, animType: \"move\" }\n    }\n},\n{\n    filterType: \"adjustment\",\n    filterId: \"myAdjust\",\n    saturation: 1,\n    brightness: 1,\n    contrast: 1,\n    gamma: 1,\n    red: 0.5,\n    green: 2,\n    blue: 2,\n    alpha: .9,\n    animated:\n    {\n        alpha: \n        { \n           active: true, \n           loopDuration: 2000, \n           animType: \"syncCosOscillation\",\n           val1: 0.8,\n           val2: 1 }\n    }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.bu7vo6j0f8ZefT1u"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.fxtome.C1dYUUJFDxcj83nC","hash":"35ff23c98f498824a4c8dfd35d6e180d120dd5d7","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145496,"modifiedTime":1673190145496,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"bu7vo6j0f8ZefT1u","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Parallaxia On","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/parallaxia-on_100dpi.webp","scope":"global","command":"// Background\nlet bupdates = canvas.background.placeables.filter(t => t.data.flags.parallaxia).map(t => {  \n  return { _id: t.id, 'flags.parallaxia.isTarget': true} \n}); \ncanvas.background.updateMany(bupdates)\n// Foreground\nlet fupdates = canvas.foreground.placeables.filter(t => t.data.flags.parallaxia).map(t => {  \n  return { _id: t.id, 'flags.parallaxia.isTarget': true} \n}); \ncanvas.foreground.updateMany(fupdates)","flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.byTO2wEXDp8upfzc"},"cf":{"id":"temp_yrdzj3q9cib","color":"#000000"},"scene-packer":{"sourceId":"Macro.iY9wUqzxNGXeqm1q","hash":"2ee9cd9fc266a5a743c03c52d18c1f9071b571e1","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145496,"modifiedTime":1673190145496,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"byTO2wEXDp8upfzc","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TokenMagic - Blue Water","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium-towns/maps/icons/water-blue.svg","scope":"global","command":"let params =\n[{\n    filterType: \"flood\",\n    filterId: \"myFlood\",\n    time: 0,\n    color: 0x2020D2,\n    billowy: 0.15,\n    tintIntensity: 0.72,\n    glint: 0.36,\n    scale: 70,\n    padding: 10,\n    animated :\n    {\n      time : \n      { \n        active: true, \n        speed: 0.0006, \n        animType: \"move\"\n      }\n    }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.cPOiBZYz114wokAo"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.fxtome.FG0E2IVXvguD1A3p","hash":"efbbf78c973a89b8fcfc4841625d103174c31368","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145496,"modifiedTime":1673190145496,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"cPOiBZYz114wokAo","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Level Preset - Trireme Regular","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium/maps/trireme/Composites/trireme-maindeck.webp","scope":"global","command":"canvas.scene.setFlag(\"levels\",\"sceneLevels\",[\n    [20,29,\"Sails\"],\n    [0,9,\"Main Deck\"],\n    [-10,-1,\"Lower Deck\"],\n    [-20,-11,\"Bilge\"],\n]).then(_levels.UI.loadLevels())","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.ch2Apci7x5T3oMz8"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium.macros.mn3T8mbJFg2Xe2sB","hash":"6a54e248bac310e4a8a47ded47076d43f24d8f27","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_n2kvwxy4e5g"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145496,"modifiedTime":1673190145496,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"ch2Apci7x5T3oMz8","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"trap-grass-drop","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/falling.svg","scope":"global","command":"async function trigger_trap() {\n    if (event === MLT.ENTER) {\n        //Find tile\n        let traparea = canvas.drawings.get(region.id)\n        let regionX = traparea.x\n        let regionY = traparea.y\n        \n        let tile = canvas.background.placeables.find(t =>\n        t.data.img.includes(args[0]) &&\n        t.center.x < (regionX + traparea.width) &&\n        t.center.x > (regionX) &&\n        t.center.y < (regionY + traparea.height) &&\n        t.center.y > (regionY));\n\n        //Hide tile\n        tile.update({hidden:false});\n    }\n}\n\ntrigger_trap();\n\n        // Play the sound of a trap for all players\n        AudioHelper.play({src: \"modules/baileywiki-nuts-and-bolts/assets/sounds/trap-grass.mp3\", volume: 0.4, autoplay: true, loop: false}, true);;","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.dUSN7zJnjGu6yEnF"},"cf":{"id":"temp_9u10uast6we","color":"#000000"},"scene-packer":{"sourceId":"Macro.cM3SPZdtx30ycY8k","hash":"2b15e323d0cd8bc091bc7107d3be9129653281eb","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145496,"modifiedTime":1673190145496,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"dUSN7zJnjGu6yEnF","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"WH - Set-elevation-enterexit","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/mountain.svg","scope":"global","command":"let applyChanges = false;\n\nif(args && args.length>0){\n  let enterval=parseInt(args[0]);\n  let exitval= args.length>1?parseInt(args[1]):null;\n  let elevation=0;\n  if(event && event === MLT.ENTER)\n    elevation = enterval;\n  else if(event ** event === MLT.LEAVE)\n    elevation = exitval;\n    token.update({\n        \"elevation\": elevation\n    });\n}\nelse\n{\n    new Dialog({\n    title: `Token Elevation Changer`,\n    content: `\n      <form>\n        <div class=\"form-group\">\n          <label>Elevation Value:</label>\n          <input id=\"token-elevation\" name=\"token-elevation\" type=\"number\" step=\"1\" value=\"0\"/>\n        </div>\n      </form>\n      `,\n    buttons: {\n      yes: {\n        icon: \"<i class='fas fa-check'></i>\",\n        label: `Apply Changes`,\n        callback: () => applyChanges = true\n      },\n      no: {\n        icon: \"<i class='fas fa-times'></i>\",\n        label: `Cancel Changes`\n      },\n    },\n    default: \"yes\",\n    close: html => {\n      if (applyChanges) {\n        for ( let token of canvas.tokens.controlled ) {\n        let elevation = html.find('[name=\"token-elevation\"]')[0].value || \"0\";\n        token.update({\n            \"elevation\": parseInt(elevation)\n        });\n        //token.data.elevation=parseInt(elevation);\n\n        }\n      }\n    }\n  }).render(true);\n}","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.do1kkwe5nf9Xi6nM"},"cf":{"id":"temp_9u10uast6we"},"scene-packer":{"hash":"8e2f6f7199e9da23ebb2f9d4334ee89085671e6e","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145496,"modifiedTime":1673190145496,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"do1kkwe5nf9Xi6nM","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TA Reset Actor Creation Behavior","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/dice-target.svg","scope":"global","command":"//Reset creation of actor when dropping from a compendium to it's default behaviour\n(()=>{    \n\tlet protoclass = canvas.tokens;\n\n\tif(protoclass._onDropActorData){\n\t\tprotoclass._onDropActorData = TokenLayer.prototype._onDropActorData;\n\t}\n})()","flags":{"scene-packer":{"hash":"1b187ead966a841653b3679a5fa6f47046dede8b","sourceId":"Compendium.baileywiki-maps-premium-towns.macros.bYcPbo66f0Nmhktg","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.eivNqoTajW1N6Tkp"},"cf":{"id":"temp_yrdzj3q9cib"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145496,"modifiedTime":1673190145496,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"eivNqoTajW1N6Tkp","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Environment - Fire - Douse! #ec8b09","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/steam-blue.svg","scope":"global","command":"(async ()=>{\nconst drawings = canvas.drawings.placeables.filter(d => d.data.fillColor== \"#ec8b09\")\ndrawings.forEach(d => d.update({ hidden: true, fillAlpha:\"0\" }));\n\nHooks.call('updateWeather', [{\"type\":\"clouds\",\"options\":{\"scale\":3.5,\"direction\":0,\"speed\":150,\"density\":3,\"tint\":{\"apply\":false,\"value\":\"#000000\"}}}]);\n\n})();","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.fC4tTziZShgeMorH"},"scene-packer":{"sourceId":"Macro.aAc7w1OVkAH4P9Gz","hash":"a29ca60c20b70ce113bafacfaa661b242d26f62d","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_9u10uast6we"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145496,"modifiedTime":1673190145496,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"fC4tTziZShgeMorH","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"WH- Set Elevation Manual","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/mountain.svg","scope":"global","command":"let applyChanges = false;\nnew Dialog({\n  title: `Token Elevation Changer`,\n  content: `\n    <form>\n      <div class=\"form-group\">\n        <label>Elevation Value:</label>\n        <input id=\"token-elevation\" name=\"token-elevation\" type=\"number\" step=\"1\" value=\"0\"/>\n      </div>\n    </form>\n    `,\n  buttons: {\n    yes: {\n      icon: \"<i class='fas fa-check'></i>\",\n      label: `Apply Changes`,\n      callback: () => applyChanges = true\n    },\n    no: {\n      icon: \"<i class='fas fa-times'></i>\",\n      label: `Cancel Changes`\n    },\n  },\n  default: \"yes\",\n  close: html => {\n    if (applyChanges) {\n      for ( let token of canvas.tokens.controlled ) {\n       let elevation = html.find('[name=\"token-elevation\"]')[0].value || \"0\";\n       token.update({\n           \"elevation\": parseInt(elevation)\n       });\n       //token.data.elevation=parseInt(elevation);\n\n      }\n    }\n  }\n}).render(true);","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.gkZas9AOuOGlQ8Dh"},"cf":{"id":"temp_9u10uast6we"},"scene-packer":{"hash":"f9a9edfd6d9e9c2b0ab78aa0c4722e26f5d25bf7","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145497,"modifiedTime":1673190145497,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"gkZas9AOuOGlQ8Dh","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Moulinette glow","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium-towns/maps/icons/glow.svg","scope":"global","command":"//\n// Adds a nice drop shadow around objects\n// It requires Token Magic FX module\n// \n// Instructions: \n// * import this macro\n// * rename it to something simple (ex: Shadow)\n// * in the Tiles screen, enter that macro name. Moulinette will then execute this macro after creating the tile\n//\n\nlet params =\n[{\n    filterType: \"glow\",\n    filterId: \"superSpookyGlow\",\n    outerStrength: 4,\n    innerStrength: 0,\n    color: 0x903010,\n    quality: 0.5,\n    padding: 10,\n    animated:\n    {\n        color: \n        {\n           active: true, \n           loopDuration: 3000, \n           animType: \"colorOscillation\", \n           val1:0x009090, \n           val2:0x903010\n        }\n    }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);\n\n\n// sanity check\nif(Array.isArray(game.moulinette.param) && game.moulinette.param.length > 0) {\n  const asset = game.moulinette.param[0]\n  if(asset instanceof Tile) {    \n    TokenMagic.addUpdateFilters(asset, params);\n  }\n}","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.hjjrbTIAehWgBRxQ"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.fxtome.y6BETvd0ny89qnDO","hash":"e30a979d22f32fac4ec6ff2248c97dd79d81bbd9","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145497,"modifiedTime":1673190145497,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"hjjrbTIAehWgBRxQ","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Token Attacher - Delete Missing Links","type":"script","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.iMUzjMk6SqJbgji1"},"cf":{"id":"temp_1ediqmp4aol"},"scene-packer":{"hash":"5add36e748a6f26a279aaac59701ef96266e84de","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"scope":"global","command":"tokenAttacher.deleteMissingLinks()","author":"hLNgmHneMmCR1wAX","img":"icons/svg/bones.svg","ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145497,"modifiedTime":1673190145497,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"iMUzjMk6SqJbgji1","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Change Selected Roof Styles","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/cycle.svg","scope":"global","command":"/*\n * Switch between tile images within the selected tiles.\n */\n(async () => {\n  const pathPrefixes = [\n    'modules/baileywiki-maps-premium-towns/maps/townsquare/city/roofs/roof-01',\n    'modules/baileywiki-maps-premium-towns/maps/townsquare/city/roofs/roof-02',\n    'modules/baileywiki-maps-premium-towns/maps/townsquare/city/roofs/roof-03',\n    'modules/baileywiki-maps-premium-towns/maps/townsquare/city/roofs/roof-04',\n    'modules/baileywiki-maps-premium-towns/maps/townsquare/city/roofs/roof-05',\n    'modules/baileywiki-maps-premium-towns/maps/townsquare/city/roofs/roof-06',\n    'modules/baileywiki-maps-premium-towns/maps/townsquare/city/roofs/roof-99',\n  ];\n  const tiles = [...game.canvas.foreground.controlled, ...game.canvas.background.controlled];\n  if (!tiles.length) {\n    ui.notifications.error('No tiles selected.');\n    return;\n  }\n  const tileUpdates = [];\n  for (const tile of tiles) {\n    for (const pathPrefix of pathPrefixes) {\n      if (!tile.data.img?.startsWith(pathPrefix)) {\n        continue;\n      }\n      const index = pathPrefixes.indexOf(pathPrefix);\n      if (index === -1) {\n        continue;\n      }\n      // Switch to the next image path prefix\n      let nextIndex = index + 1;\n      if (nextIndex >= pathPrefixes.length) {\n        nextIndex = 0;\n      }\n      const nextPrefix = pathPrefixes[nextIndex];\n      console.log(\n        `${tile.id} ${tile.data.img} => ${tile.data.img.replace(\n          pathPrefix,\n          nextPrefix,\n        )}`,\n      );\n      tileUpdates.push({\n        _id: tile.id,\n        img: tile.data.img.replace(pathPrefix, nextPrefix),\n      });\n    }\n  }\n  if (tileUpdates.length) {\n    await game.canvas.scene.updateEmbeddedDocuments('Tile', tileUpdates);\n  }\n})();","flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.iiuKxtavsrv9bFLM"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.macros.50XFT6wK1X62iOHC","hash":"be595624ce51054a56f08e43c3ec38a4d4bf0b52","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_yrdzj3q9cib"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145497,"modifiedTime":1673190145497,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"iiuKxtavsrv9bFLM","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Show scene performance report","type":"script","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.ixVfg24HJoDcqfWh"},"cf":{"id":"temp_yrdzj3q9cib"},"scene-packer":{"hash":"0a6f72e42e21b6b267937ff6666c0f0b338cc2fb","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"scope":"global","command":"ScenePacker.ShowPerformanceReport();","author":"hLNgmHneMmCR1wAX","img":"icons/svg/upgrade.svg","ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145497,"modifiedTime":1673190145497,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"ixVfg24HJoDcqfWh","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Frost Theme Weather","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/fxmaster/assets/weatherEffects/icons/stars.png","scope":"global","command":"Hooks.call('fxmaster.updateWeather', [{\"type\":\"clouds\",\"options\":{\"scale\":2.1,\"direction\":100,\"speed\":0.6,\"lifetime\":1,\"density\":0.005,\"tint\":{\"apply\":true,\"value\":\"#3182aa\"}}},{\"type\":\"embers\",\"options\":{\"scale\":1,\"speed\":1,\"lifetime\":1,\"density\":0.35,\"tint\":{\"apply\":true,\"value\":\"#57d9db\"}}}]);","flags":{"scene-packer":{"hash":"99233df18f9bc0cfe43182b6a74a01833f86a2d1","sourceId":"Macro.uY0w4mR9B09V5xuq","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.jd7qtKQJjPYEyxJe"},"cf":{"id":"temp_yrdzj3q9cib"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145497,"modifiedTime":1673190145497,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"jd7qtKQJjPYEyxJe","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"swimming-water","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/sound.svg","scope":"global","command":"//Contributed by j0eNinj4 and elezraita on the discord. An upgraded version of the walking-water macro that plays entry, exit, and movement sounds in water areas.\n\nif (event === MLT.MOVE) {\n// Play the sound of wading through water for all players\nfunction mm_audio(){\n    let soundHome = \"modules/baileywiki-nuts-and-bolts/assets/sounds/\";\n    let soundFile = [\n        `water-swim-01.ogg`,\n        `water-swim-02.ogg`,\n        `water-swim-03.ogg`,\n        `water-swim-04.mp3`,\n    ];\n    let random = Math.floor(Math.random() * (soundFile.length));\n    AudioHelper.play({src: soundHome + soundFile[random], volume: 0.25\n, autoplay: true, loop: false}, true);\n}\nmm_audio();\n}\nelse if (event === MLT.ENTER) {\n// Play the sound of water entering for all players\nAudioHelper.play({src: \"modules/baileywiki-nuts-and-bolts/assets/sounds/EnterWater.ogg\", volume: 0.25, autoplay: true, loop: false}, true);; \n}\nelse if (event === MLT.LEAVE) {\n// Play the sound of water leaving for all players\nAudioHelper.play({src: \"modules/baileywiki-nuts-and-bolts/assets/sounds/WaterStepOut.ogg\", volume: 0.25, autoplay: true, loop: false}, true);; \n}","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.lEnbwPvP5k8a5TbO"},"cf":{"id":"temp_9u10uast6we","color":"#000000"},"scene-packer":{"sourceId":"Macro.tqmkbqSulyNAtk8Y","hash":"2aa8319eb40685cefd53d5eb697e9148ffc2c632","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145497,"modifiedTime":1673190145497,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"lEnbwPvP5k8a5TbO","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"trap-collapse-drop","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/falling.svg","scope":"global","command":"async function trigger_trap() {\n        if (event === MLT.ENTER) {\n        //Find tile\n        let traparea = canvas.drawings.get(region.id)\n        let regionX = traparea.x\n        let regionY = traparea.y\n        \n        let tile = canvas.background.placeables.find(t =>\n        t.data.img.includes(args[0]) &&\n        t.center.x < (regionX + traparea.width) &&\n        t.center.x > (regionX) &&\n        t.center.y < (regionY + traparea.height) &&\n        t.center.y > (regionY));\n\n        //Hide tile\n        tile.update({hidden:false});\n    }\n}\ntrigger_trap();\n\n        // Play the sound of a trap for all players\n        AudioHelper.play({src: \"modules/baileywiki-nuts-and-bolts/assets/sounds/trap-collapse.ogg\", volume: 0.4, autoplay: true, loop: false}, true);;","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.lmXF66ZEIbxNu8uH"},"cf":{"id":"temp_9u10uast6we","color":"#000000"},"scene-packer":{"sourceId":"Macro.uqmolziRYepEgZbA","hash":"763f3d2f9f24313b69225895ed21a545b46a56dc","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145497,"modifiedTime":1673190145497,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"lmXF66ZEIbxNu8uH","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Level Preset - Trireme Speed Upgrade","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium/maps/trireme/Composites/trireme-maindeck.webp","scope":"global","command":"canvas.scene.setFlag(\"levels\",\"sceneLevels\",[\n    [20,29,\"Sails\"],\n    [0,9,\"Main Deck\"],\n    [-10,-1,\"Lower Deck 1\"],\n    [-20,-11,\"Lower Deck 2\"],\n    [-30,-21,\"Bilge\"],\n]).then(_levels.UI.loadLevels())","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.m8NsCuD1eVcTheOc"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium.macros.ZJ6E1GXzOR3eyv4F","hash":"33791d96f6362389af1bf4f25622ef0b79adc8c9","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_n2kvwxy4e5g"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145498,"modifiedTime":1673190145498,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"m8NsCuD1eVcTheOc","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Level Preset - Galleons","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium/maps/thumbnails/galleon-placeable-with-sails-foam_100dpi.webp","scope":"global","command":"//With Levels UI turned OFF, this macro will set simplified levels for any galleon prefab.\n\ncanvas.scene.setFlag(\"levels\",\"sceneLevels\",[\n    [30,39,\"Sails\"],\n    [20,29,\"All Decks\"],\n    [10,19,\"Captains Quarters\"],\n    [0,9,\"Main Deck\"],\n    [-10,-1,\"Gun Deck\"],\n    [-20,-11,\"Cargo and Quarters\"],\n    [-30,-21,\"Bilge\"],\n]).then(_levels.UI.loadLevels())","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.nckY3NPTFhP6h7vx"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium.macros.rVn2RVyPDFiaiCMQ","hash":"27877920b597032528bae4d43d4f722f37ebbdca","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_n2kvwxy4e5g"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145498,"modifiedTime":1673190145498,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"nckY3NPTFhP6h7vx","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Muddy Weather","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/fxmaster/assets/weatherEffects/icons/rain.png","scope":"global","command":"Hooks.call('fxmaster.updateWeather', [{\"type\":\"clouds\",\"options\":{\"scale\":2.1,\"direction\":0,\"speed\":0.9,\"lifetime\":0.4,\"density\":0.013,\"tint\":{\"apply\":false,\"value\":\"#ffffff\"}}},{\"type\":\"rain\",\"options\":{\"scale\":1,\"direction\":75,\"speed\":1,\"lifetime\":1,\"density\":0.5,\"tint\":{\"apply\":false,\"value\":\"#ffffff\"}}}]);","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.oP9N2gE5Ub7AyhoR"},"scene-packer":{"sourceId":"Compendium.baileywiki-city-district-01.macros.OsX9V5r968m98LWc","hash":"630333985d3c0aa481587c7c9620334e69737fab","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_yrdzj3q9cib","path":"Baileywiki Modular City#/CF_SEP/Utilities","color":"#000000"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145483,"modifiedTime":1673190145483,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"oP9N2gE5Ub7AyhoR","folder":"oGGQQbwQaAlWNOsV","sort":0},{"name":"Moulinette ghostly","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium-towns/maps/icons/ghostly.svg","scope":"global","command":"//\n// Adds a nice drop shadow around objects\n// It requires Token Magic FX module\n// \n// Instructions: \n// * import this macro\n// * rename it to something simple (ex: Shadow)\n// * in the Tiles screen, enter that macro name. Moulinette will then execute this macro after creating the tile\n//\n\nlet params =\n[{\n    filterType: \"distortion\",\n    filterId: \"myDistortion\",\n    maskPath: \"/modules/tokenmagic/fx/assets/distortion-1.png\",\n    maskSpriteScaleX: 10,\n    maskSpriteScaleY: 10,\n    animated:\n    {\n        maskSpriteX: { active: true, speed: 0.05, animType: \"move\" },\n        maskSpriteY: { active: true, speed: 0.07, animType: \"move\" }\n    }\n},\n{\n    filterType: \"adjustment\",\n    filterId: \"myAdjust\",\n    saturation: 1,\n    brightness: 1,\n    contrast: 1,\n    gamma: 1,\n    red: 0.5,\n    green: 2,\n    blue: 2,\n    alpha: .9,\n    animated:\n    {\n        alpha: \n        { \n           active: true, \n           loopDuration: 2000, \n           animType: \"syncCosOscillation\",\n           val1: 0.8,\n           val2: 1 }\n    }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);\n\n\n// sanity check\nif(Array.isArray(game.moulinette.param) && game.moulinette.param.length > 0) {\n  const asset = game.moulinette.param[0]\n  if(asset instanceof Tile) {    \n    TokenMagic.addUpdateFilters(asset, params);\n  }\n}","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.pOZvF14FLeQcHTkA"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.fxtome.oqXphQLGy20CjG9w","hash":"f06c8d69890c13856f05b5d1654adc26aed8ca25","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145498,"modifiedTime":1673190145498,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"pOZvF14FLeQcHTkA","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TokenMagic - Water Ripple","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium/maps/icons/water-ripple_100dpi.webp","scope":"global","command":"// you can change the mask of the filter\n// the mask must have a power of 2 h and w (512x512, 128x128, ...) \n// the distortion applies on black and white and shades of grey\n// after testing the first version of this macro try this :\n// -> maskPath: \"/modules/tokenmagic/fx/assets/waves-2.png\"\n\nlet params =\n[{\n    filterType: \"distortion\",\n    filterId: \"myDistortion\",\n    maskPath: \"/modules/tokenmagic/fx/assets/distortion-1.png\",\n    maskSpriteScaleX: 8,\n    maskSpriteScaleY: 8,\n    padding: 20,\n    animated:\n    {\n        maskSpriteX: { active: true, speed: .05, animType: \"move\" },\n        maskSpriteY: { active: true, speed: .07, animType: \"move\" }\n    }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.pqWZrLFd8utllKQL"},"scene-packer":{"sourceId":"Macro.9tBWg4CutYDB24m5","hash":"16c20e6eb3c7b4ab8c93ca45416d4509e63227de","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145498,"modifiedTime":1673190145498,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"pqWZrLFd8utllKQL","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TokenMagic - Underwater Texture","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium/maps/icons/water-ripple_100dpi.webp","scope":"global","command":"//The TokenMagic FX filter will apply a special effect and texture to tiles that make them appear to be underwater. Delete effect with macro: TokenMagic - Delete Filters on Selected\n\nlet params =\n[{\n    filterType: \"distortion\",\n    filterId: \"myDistortion\",\n    maskPath: \"modules/baileywiki-maps-premium-towns/maps/wilderness/terrains/ocean-and-sand/water-texture.png\",\n    maskSpriteScaleX: 40,\n    maskSpriteScaleY: 40,\n    animated:\n    {\n        maskSpriteX: { active: true, speed: 0.001, animType: \"move\" },\n        maskSpriteY: { active: true, speed: 0.001, animType: \"move\" }\n    }\n},\n{\n    filterType: \"adjustment\",\n    filterId: \"myAdjust\",\n    saturation: 1,\n    brightness: 1.1,\n    contrast: 1.3,\n    gamma: .9,\n    red: 0.5,\n    green: 1.5,\n    blue: 2,\n    alpha: .9,\n    animated:\n    {\n        alpha: \n        { \n           active: true, \n           loopDuration: 2000, \n           animType: \"syncCosOscillation\",\n           val1: 0.9,\n           val2: 1 }\n    }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","flags":{"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.q2ZUCU9nu1CbivEP"},"scene-packer":{"hash":"7743ab76f280e59a4274109ff62ec2fff306a6e9","sourceId":"Macro.fIXNKEcyPrWH0rgZ","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"advanced-macros":{"runAsGM":false},"exportSource":{"world":"baileywiki","system":"dnd5e","coreVersion":"9.251","systemVersion":"1.5.7"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145498,"modifiedTime":1673190145498,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"q2ZUCU9nu1CbivEP","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TokenMagic - Create Flames / Fire","type":"script","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.qMmXqusyRsRTY7DY"},"scene-packer":{"sourceId":"Macro.YGDJobjRBK902vIg","hash":"4b00020bcde2696a4a293be383255a9433172236","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_9u10uast6we"}},"scope":"global","command":"// create a drawing with fill color #ec8b09 and opacity of 50% with line width of zero. Select it, and click this macro to set it on fire. Adjust the amount of flames by adjusting the opacity of the drawing fill between 30% and 60%. Based on 'Devouring Fire' filter from TMFX\n\nlet params =\n[{\n    filterType: \"fire\",\n    filterId: \"myFire\",\n    intensity: 3,\n    color: 0xFFFFFF,\n    amplitude: 2,\n    time: 0,\n    blend: 10,\n    fireBlend : 1,\n    alphaDiscard: true,\n    zOrder: 50,\n    animated :\n    {\n      time : \n      { \n        active: true, \n        speed: -0.0024, \n        animType: \"move\" \n      }\n    }\n},{\n    filterType: \"glow\",\n    filterId: \"glowripples\",\n    outerStrength: 4,\n    innerStrength: 2,\n    color: 0xAA6500,\n    quality: 0.5,\n    padding: 10,\n    zOrder: 100,\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","author":"hLNgmHneMmCR1wAX","img":"icons/svg/fire.svg","ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145498,"modifiedTime":1673190145498,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"qMmXqusyRsRTY7DY","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Better Roofs Bulk Update","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/family-house.svg","scope":"global","command":"_betterRoofsHelpers.bulkBUpdate()","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.qYxgiwAHD7X4htAY"},"scene-packer":{"sourceId":"Macro.IZaA2UxfPBlXrg3v","hash":"d4512ae2b822aebc77c53930b7949f494b597ae0","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_yrdzj3q9cib","color":"#000000"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145499,"modifiedTime":1673190145499,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"qYxgiwAHD7X4htAY","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Gothic Theme Weather","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/fxmaster/assets/weatherEffects/icons/bats.png","scope":"global","command":"Hooks.call('fxmaster.updateWeather', [{\"type\":\"clouds\",\"options\":{\"scale\":1.5,\"direction\":55,\"speed\":0.6,\"lifetime\":1,\"density\":0.005,\"tint\":{\"apply\":true,\"value\":\"#1c9eca\"}}},{\"type\":\"embers\",\"options\":{\"scale\":1,\"speed\":1,\"lifetime\":1,\"density\":0.2,\"tint\":{\"apply\":true,\"value\":\"#1393be\"}}},{\"type\":\"bats\",\"options\":{\"scale\":1.1,\"speed\":0.5,\"lifetime\":1.9,\"density\":0.01,\"tint\":{\"apply\":false,\"value\":\"#ffffff\"}}}]);","flags":{"scene-packer":{"hash":"77e19d4f1f33845780b17009f257f57710e9d7e3","sourceId":"Macro.MWKjgmPcuRN0ZpvW","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.sXuCaeg7xqdtaV6G"},"cf":{"id":"temp_yrdzj3q9cib"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145499,"modifiedTime":1673190145499,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"sXuCaeg7xqdtaV6G","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Environment - Show Animated Water #64eb0a","type":"script","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.sxJysOcfsm4EINjP"},"scene-packer":{"sourceId":"Macro.IMj1Zz9LwEYpZI3C","hash":"e73628a93ef22819a0078bea1623651ee6723845","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_9u10uast6we"}},"scope":"global","command":"const drawings = canvas.drawings.placeables.filter(d => d.data.fillColor== \"#64eb0a\")\ndrawings.forEach(d => d.update({ hidden: false, fillAlpha:\".5\", textAlpha:\"0\" }));","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/show-waves.svg","ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145500,"modifiedTime":1673190145500,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"sxJysOcfsm4EINjP","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Radiant Theme Weather","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/fxmaster/assets/weatherEffects/icons/crows.png","scope":"global","command":"Hooks.call('fxmaster.updateWeather', [{\"type\":\"birds\",\"options\":{\"scale\":1,\"speed\":1,\"lifetime\":1,\"density\":0.006,\"tint\":{\"apply\":false,\"value\":\"#ffffff\"},\"animations\":[\"mixed\"]}},{\"type\":\"embers\",\"options\":{\"scale\":1,\"speed\":1,\"lifetime\":1,\"density\":0.2,\"tint\":{\"apply\":true,\"value\":\"#f2f2d4\"}}},{\"type\":\"stars\",\"options\":{\"scale\":1,\"speed\":1,\"lifetime\":1,\"density\":0.3,\"tint\":{\"apply\":true,\"value\":\"#f2f1a1\"}}},{\"type\":\"fog\",\"options\":{\"scale\":1,\"speed\":1,\"lifetime\":1,\"density\":0.02,\"tint\":{\"apply\":true,\"value\":\"#c9c9c9\"}}}]);","flags":{"scene-packer":{"hash":"4d020ceac9c9167d3c40b8f07eeafbab317d26e0","sourceId":"Macro.yk2NANDvNHwkPKws","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.uBnMd9022pqBdeZX"},"cf":{"id":"temp_yrdzj3q9cib"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145500,"modifiedTime":1673190145500,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"uBnMd9022pqBdeZX","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Configurator - Foreground Tiles","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/configurator-foregroundtiles.svg","scope":"global","command":"//Use this special macro to change multiple attributes on multiple assets at the same time. Just remove the comment // symbols to activate a particular attribute.\n\n//This will only change assets that are selected in the current scene.\n//To see other attributes, select a tile, then open the console (f12) and type this into it: canvas.foreground.controlled[0]\n\n//SYNTAX TIPS. ever value must have a comma after it. Be careful not to delete it. Decimals should be written like 0.x with the zero in front of the decimal.\n\ncanvas.foreground.updateAll({\n//\"hidden\": true,\n//\"alpha\": 1,\n//\"tint\":\"\"#ffffff\",\n//\"overhead\": true,\n//\"occlusion.alpha\": 0,\n//\"occlusion.mode\": 1,\n\n//If you use modules, these are some common flags:\n\n  \"flags\": {\n    \n\"levels\": {\n//\"rangeTop\": 9,\n//\"rangeBottom\": 0,\n    },\n\n  },\n  },(foreground)=> foreground._controlled)","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.uQ8JBMoLn19ZeuAt"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.macros.k5WVehuow0fyVO4G","hash":"e5bf8725710ed69d81ac90bfe2069d04b3d96ab5","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_1ediqmp4aol","color":"#000000"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145500,"modifiedTime":1673190145500,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"uQ8JBMoLn19ZeuAt","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TokenMagic - Magic Circle (under)","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium-towns/maps/townsquare/misc2/seating-objects/throne-magic-circle.png","scope":"global","command":"let params =\n[{\n    filterType: \"sprite\",\n    filterId: \"myPentagram\",\n    imagePath: \"modules/baileywiki-maps-premium-towns/maps/townsquare/misc2/seating-objects/throne-magic-circle.png\",\n    gridPadding: 10,\n    scaleX: 3,\n    scaleY: 3,\n    colorize: true,\n    color: 0xFF0000,\n    inverse: true,\n    top: false,\n    animated:\n        {\n          rotation: \n          { \n            active: true,\n            clockWise: false, \n            loopDuration: 10000, \n            animType: \"syncRotation\"\n      },\n          translationX:\n            {\n                active: true,\n                animType: \"cosOscillation\",\n                val1: 0.0,\n                val2: -0.0,\n                loopDuration: 4000,\n            },\n            translationY:\n            {\n                active: true,\n                animType: \"sinOscillation\",\n                val1: 0.0,\n                val2: -0.0,\n                loopDuration: 4000,\n            },\n            color:\n            {\n                active: true,\n                animType: \"colorOscillation\",\n                val1: 0xf40000,\n                val2: 0xffffff,\n                loopDuration: 4000,\n\n            }\n        }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.utIGug9LwJIZDrxw"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.fxtome.RlxRa7mgG40UdxOh","hash":"62c4e42f37247eaff58c5474f9b30fd41aacf610","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145500,"modifiedTime":1673190145500,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"utIGug9LwJIZDrxw","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"arm-disarm-trap-elevator","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/trap.svg","scope":"global","command":"//arm-disarm-trap-slide\n//Execute this macro to choose whether to activate or deactivate all drawings on the current scene with the Text Label of trap-elevator. Active traps have a slight red tint, deactivated traps have no tint. You can use this for activating and deactivating other traps by changing the text that the macro looks for. Macro by Zephyr, heavily inspired and assisted by other macros written by theripper93, Restinya, and Blair.\n\n//specify tints for armed vs unarmed\nlet armedTint = \"#ff0000\"; //red\nlet unarmedTint = \"#ffffff\"; //white, doesn't matter if unarmedAlpha = 0.0\n\n//specify opacity for armed vs unarmed, must be between 0.0 and 1.0\nlet armedAlpha = 0.1;\nlet unarmedAlpha = 0.0; //if you want an unarmed tint, increase this value.\n\nasync function trapArm(newStatus,tint,alpha) {\n    //find the drawings for the trap by looking for their Text Label, to use this for other traps, change the \"trap-slide\" below to the desired label, leaving the label text in quotes.\n    let traps = canvas.drawings.placeables.filter(\n         (d) => d.data.text == \"trap-elevator\"\n    );\n\n    //update the traps, first changing their MLT enabled disabled, then their fill colors. Set fill type to 1 in case it has not already been specified.\n\nlet updates = [];    \n\nfor(let d of traps)\n        {\n        await d.document.setFlag(\"multilevel-tokens\", \"disabled\", newStatus)\n        updates.push({_id: d.id, fillColor: tint, fillAlpha: alpha, fillType: 1})\n        };\nawait canvas.scene.updateEmbeddedDocuments(\"Drawing\",updates);\n\n    ui.notifications.info(\"trap-elevator drawings disabled = \" + newStatus);\n}\n\n//dialogue for controlling function\nlet dialog = new Dialog({\n    title: \"Set Slide Trap Status\",\n    content: \"Change the active status and tint of all trap-slide drawings on the current scene. Armed traps will be slightly tinted red, unarmed traps will have no tint.\",\n    buttons: {\n      button1: {\n        label: \"Arm the Traps\",\n        callback: () => {\n          trapArm(false,armedTint,armedAlpha);\n        },\n      },\n      button2: {\n        label: \"Disable the traps\",\n        callback: () => {\n          trapArm(true,unarmedTint,unarmedAlpha);\n        },\n      },\n      close: {\n        label: \"Cancel\",\n        callback: async () => {},\n      }\n    },\n    default: close,\n    close: () => {},\n  });\n  \n  dialog._render(true);","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.wSsob1ZvJBB3CHKh"},"scene-packer":{"sourceId":"Macro.0WbBZASHA3CU5mrf","hash":"f89472034a47c64d73b3ad7764ba91cde04bd72c","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_9u10uast6we","color":"#000000"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145501,"modifiedTime":1673190145501,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"wSsob1ZvJBB3CHKh","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Configurator - Background Tiles","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium-towns/maps/icons/configurator-backgroundtile.svg","scope":"global","command":"//Use this special macro to change multiple attributes on multiple assets at the same time. Just remove the comment // symbols to activate a particular attribute.\n\n//This will only change assets that are selected in the current scene.\n//To see other attributes, select a tile, then open the console (f12) and type this into it: canvas.background.controlled[0]\n\n//SYNTAX TIPS. ever value must have a comma after it. Be careful not to delete it. Decimals should be written like 0.x with the zero in front of the decimal.\n\ncanvas.background.updateAll({\n//\"hidden\": true,\n//\"alpha\": 1,\n//\"tint\":\"\"#ffffff\",\n//\"overhead\": true,\n\n//If you use modules, these are some common flags:\n\n  \"flags\": {\n    \n\"levels\": {\n//\"rangeTop\": 9,\n//\"rangeBottom\": 0,\n    }\n\n  },\n  },(background)=> background._controlled)","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.wYoc1TnLwlNCfsVY"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.macros.KjKNRmHYEv45DaGa","hash":"b02d036cf4b78156f46b81e6ecca4d0b7d46b734","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_1ediqmp4aol","color":"#000000"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145501,"modifiedTime":1673190145501,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"wYoc1TnLwlNCfsVY","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Token Magic - Red Water","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-maps-premium-towns/maps/icons/water-red.svg","scope":"global","command":"let params =\n[{\n    filterType: \"flood\",\n    filterId: \"myFlood\",\n    time: 0,\n    color: 0xEE1111,\n    billowy: 0.15,\n    tintIntensity: 0.72,\n    glint: 0.36,\n    scale: 70,\n    padding: 10,\n    animated :\n    {\n      time : \n      { \n        active: true, \n        speed: 0.0006, \n        animType: \"move\"\n      }\n    }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.xjFgww36l4ujaAV5"},"scene-packer":{"sourceId":"Compendium.baileywiki-maps-premium-towns.fxtome.xUhGEwSCi8To3J2G","hash":"ed145e1cefa5a007ff723dd4ed36e922e3b135fc","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145501,"modifiedTime":1673190145501,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"xjFgww36l4ujaAV5","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Natural Theme Weather","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/fxmaster/assets/weatherEffects/icons/leaves.png","scope":"global","command":"Hooks.call('fxmaster.updateWeather', [{\"type\":\"embers\",\"options\":{\"scale\":1,\"speed\":0.7,\"lifetime\":1,\"density\":0.2,\"tint\":{\"apply\":true,\"value\":\"#79c41c\"}}},{\"type\":\"fog\",\"options\":{\"scale\":1,\"speed\":1,\"lifetime\":1,\"density\":0.02,\"tint\":{\"apply\":true,\"value\":\"#c9c9c9\"}}},{\"type\":\"leaves\",\"options\":{\"scale\":1,\"speed\":1,\"lifetime\":1,\"density\":0.2,\"tint\":{\"apply\":true,\"value\":\"#65a937\"}}}]);","flags":{"scene-packer":{"hash":"e8a521797ef5d792d05069bcd0b22292aa72075a","sourceId":"Macro.xXnelNJzAjUqjsp5","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.xoTJJ37fGnGBVOuh"},"cf":{"id":"temp_yrdzj3q9cib"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145501,"modifiedTime":1673190145501,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"xoTJJ37fGnGBVOuh","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Fit Tile To Scene","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/mountain.svg","scope":"global","command":"canvas.activeLayer.controlled[0].document.update({\nx: canvas.dimensions.paddingX,\ny: canvas.dimensions.paddingY,\nwidth: canvas.dimensions.sceneWidth,\nheight: canvas.dimensions.sceneHeight,\n})","flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.y9MPKy7gT7BAHBIz"},"scene-packer":{"hash":"ff96474307d0c65c5880e44d081c565a80d099aa","sourceId":"Macro.YeaUGEX374Zrzrm6","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_1ediqmp4aol"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145501,"modifiedTime":1673190145501,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"y9MPKy7gT7BAHBIz","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"Multiple Anchors based on DC","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/dice-target.svg","scope":"global","command":"let results = arguments[0].value.tokenresults;\n\nlet goto = [];\ngoto.push({ tokens: await Promise.all(results.filter(r => r.roll.total < 10).map(async (t) => { return await fromUuid(t.uuid); })), tag: 'Fail' });\ngoto.push({ tokens: await Promise.all(results.filter(r => r.roll.total >= 10 && r.roll.total < 15).map(async (t) => { return await fromUuid(t.uuid); })), tag: 'Low Results' });\ngoto.push({ tokens: await Promise.all(results.filter(r => r.roll.total >= 15 && r.roll.total < 20).map(async (t) => { return await fromUuid(t.uuid); })), tag: 'Better Results' });\ngoto.push({ tokens: await Promise.all(results.filter(r => r.roll.total >= 20).map(async (t) => { return await fromUuid(t.uuid); })), tag: 'Best Results' });\n\ngoto = goto.filter(g => g.tokens.length > 0);\n\nreturn {goto: goto};","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.ypLJLViOeI8qbHJy"},"scene-packer":{"hash":"206c343c5fc11b1b4caa10862738b246f0c083f9","sourceId":"Compendium.baileywiki-maps-premium-towns.macros.BKO5d6v4xelpqvin","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_9u10uast6we","color":"#000000"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145501,"modifiedTime":1673190145501,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"ypLJLViOeI8qbHJy","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"TMFX-MATT - Glow Yellow","type":"script","author":"hLNgmHneMmCR1wAX","img":"modules/baileywiki-nuts-and-bolts/assets/icons/glow-yellow-target.svg","scope":"global","command":"/**Takes the arguments supplied to a MATT \"Run Macro\" action \n * and searches for objects that have that argument as a tag. \n * Then applies a TMFX Glow filter to all objects with that tag.\n * Massive thank you to Dr. O_o in Monk's Discord for the help!\n*/\n\nlet params =\n[{\n    filterType: \"glow\",\n    filterId: \"superSpookyGlow\",\n    outerStrength: 4,\n    innerStrength: 0,\n    color: 0xefef6b,\n    quality: 0.5,\n    padding: 10,\n    animated:\n    {\n        color: \n        {\n           active: true, \n           loopDuration: 3000, \n           animType: \"colorOscillation\", \n           val1:0x949442, \n           val2:0xefef6b\n        }\n    }\n}];\n\nlet tag = arguments[0].args[0];\n\nTagger.getByTag(tag).forEach( (el)=>{  \n  TokenMagic.addUpdateFilters(el.object, params, true); // True means replace\n});","flags":{"scene-packer":{"hash":"789bd2517803fbd9cbc45eaecb98c8fcc11d0b97","sourceId":"Macro.m0ZY8kIW75ClH0WQ","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.zUEUxnepGlSL9t3G"},"cf":{"id":"temp_0ijhsmxxl0yt"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145501,"modifiedTime":1673190145501,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"zUEUxnepGlSL9t3G","folder":"zo4TrFRFdR51aGEI","sort":0},{"name":"gothic-brazier-teleport-config","type":"script","author":"hLNgmHneMmCR1wAX","img":"icons/svg/explosion.svg","scope":"global","command":"//Gothic-Brazierroom-Teleport-Config\n//Execute this macro on a scene with a drawing whose label is gothic-braziertp to switch between the different teleport locations and tint the room. Massive thank you to theripper93 for helping develop this macro with Zephyr, and putting up with all of the misplaced parentheses and brackets.\n\n//defines the options for the brazier teleports\nlet tp0 = \"DISABLED\";\nlet tp1 = \"gothic-braziertp-1\";\nlet tp2 = \"gothic-braziertp-2\";\nlet tp3 = \"gothic-braziertp-3\";\n//let tpx =\"teleport-code-somwhere\"\n//to add your own teleport code options, copy the line above, changing the x and teleport code, then removing the slashes to de-comment the line. You will also need to create a new button or update an existing one at the bottom of the macro.\n\nlet color0 = \"#ffffff\";\nlet color1 = \"#ff0000\";\nlet color2 = \"#00ff00\";\nlet color3 = \"#0000ff\";\n//let colorx = \"#hexcode\"\n//to add your own color, copyt he line above, changing the x and hexcode, then remove the slashes to de-comment the line. You will also need to create a new button or update an existing one at the bottom of the macro.\n\nasync function tpConfig(tpId,tpColor) {\n    //find the BrazierRoom drawing by looking for the Text Label\n    let brazierRoom = canvas.drawings.placeables.find(\n      (d) => d.data.text == \"braziertp\"\n    );\n   \n    //update the Brazier Room teleport ID\n    await brazierRoom.document.setFlag(\"multilevel-tokens\", \"teleportId\", tpId);\n  \n    //Update the Brazier Room tint\n    await brazierRoom.update({fillColor: tpColor});\n\t\n    //update current teleport id and send a notification to the user\n    let tpActive = brazierRoom.document.getFlag(\n      \"multilevel-tokens\",\n      \"teleportId\"\n    );\n    ui.notifications.info(\"Set Brazier Room Teleport Destination to \" + tpActive);\n  }\n\n//button based dialog\nlet dialog = new Dialog({\n  title: \"Configure the Brazier Room Teleport\",\n  content: \"Change the destination of the Brazier Room teleporter or deactivate it. Make sure that the 'Teleport' map note is inside of the room for players to teleport.\",\n  buttons: {\n    //first button by default sets the teleport to Gothic Castle Level B2, in the top-right corner of the map, at the foot of the steps in the crypt.\n\tbutton1: {\n      label: \"Lord of the Castle's Tomb (Red)\",\n      callback: () => {\n        tpConfig(tp1,color1);\n      },\n    },\n\t//second button by default sets the teleport to Gothic Castle Level 03, in the middle of the map, opposite the fireplace and near the door to the bedroom.\n    button2: {\n      label: \"3rd Floor Lounge (Green)\",\n      callback: () => {\n        tpConfig(tp2,color2);\n      },\n    },\n\t//second button by default sets the teleport to Gothic Castle Level 04, in the middle of the torture chamber above the heart in the \"heart tower.\"\n    button3: {\n      label: \"Heart Tower Peak (Blue)\",\n      callback: () => {\n        tpConfig(tp3,color3);\n      },\n    },\n/*\n    buttonx: {\n      label: \"your destination here\",\n      callback: () => {\n        tpConfig(tpx,colorx);\n      },\n    },\n*/\n//to add your own button, copy the block above, changing the x and variables to match your options, then removing slashes and asterisk to de-comment the block.\n\t//last 'option' button deactivates the teleport\n\tbutton99: {\n      label: \"Deactivate (White)\",\n      callback: () => {\n        tpConfig(tp0,color0);\n      },\n    },\n\t//closees the dialogue box\n    close: {\n      label: \"Cancel\",\n      callback: async (html) => {},\n    }\n  },\n  default: close,\n  close: () => {},\n});\n\ndialog._render(true);","flags":{"core":{"sourceId":"Compendium.baileywiki-nuts-and-bolts.macros.zrHfEhFEV2cV2i5a"},"scene-packer":{"sourceId":"Macro.fHCmGBSJIdXPsnXW","hash":"1f6117b7bbfe8cbfa08f2031d25f73c9506c9d36","moulinette-adventure-name":"Shinobi World","moulinette-adventure-version":"1.0.0"},"cf":{"id":"temp_9u10uast6we","color":"#000000"}},"ownership":{"default":0,"hLNgmHneMmCR1wAX":3},"_stats":{"systemId":"dnd5e","systemVersion":"2.0.3","coreVersion":"10.291","createdTime":1673190145502,"modifiedTime":1673190145502,"lastModifiedBy":"hLNgmHneMmCR1wAX"},"_id":"zrHfEhFEV2cV2i5a","folder":"zo4TrFRFdR51aGEI","sort":0}]